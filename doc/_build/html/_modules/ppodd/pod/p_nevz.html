

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ppodd.pod.p_nevz &mdash; ppodd  documentation</title>
    
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="ppodd  documentation" href="../../../index.html" />
    <link rel="up" title="ppodd.pod" href="../pod.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">ppodd  documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Module code</a> &raquo;</li>
          <li><a href="../pod.html" accesskey="U">ppodd.pod</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for ppodd.pod.p_nevz</h1><div class="highlight"><pre>
<span class="c">#from ppodd.pod import *</span>
<span class="kn">from</span> <span class="nn">ppodd.core</span> <span class="kn">import</span> <span class="o">*</span>
<div class="viewcode-block" id="nevz"><a class="viewcode-back" href="../../../ppodd.pod.html#ppodd.pod.p_nevz.nevz">[docs]</a><span class="k">class</span> <span class="nc">nevz</span><span class="p">(</span><span class="n">fort_cal</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">FORTRAN routine C_NEVZ</span>

<span class="sd"> ROUTINE          C_NEVZ SUBROUTINE FORTVAX</span>
<span class="sd">     </span>
<span class="sd"> PURPOSE          Produces calibrated Nevzorov parameters</span>

<span class="sd"> DESCRIPTION      Calculates liquid and total water values for the Nevzorov</span>
<span class="sd">                  together with reference and collector voltages, using the</span>
<span class="sd">                  equations supplied with the unit, namely:</span>

<span class="sd">                  Water content = V**2/U/L/SR</span>

<span class="sd">                  where V is the output voltage (V)</span>
<span class="sd">                        U is the True air speed (m/s)</span>
<span class="sd">                        L is the energy expended in heating and evaporating</span>
<span class="sd">                             the water, for which a value of 2589 J/g is used</span>
<span class="sd">                        SR is the product of the sensor area and the resistanc</span>
<span class="sd">                           of the collector sensor at the chosen temperature.</span>

<span class="sd">                  Flagging:</span>

<span class="sd">                  If on Calibrate, as indicated by bit 1 or 2 in the signal</span>
<span class="sd">                  register being set then the data is flagged with a 2.</span>
<span class="sd">                  Otherwise the data carries the flag of the True Airspeed</span>
<span class="sd">                  parameter.</span>

<span class="sd"> VERSION          1.00  18/01/99  W.D.N.JACKSON</span>

<span class="sd"> ARGUMENTS     </span>
<span class="sd">                  Constants:</span>
<span class="sd">                  RCONST(1)   CALNVLW X0</span>
<span class="sd">                  RCONST(2)   CALNVLW X1</span>
<span class="sd">                  RCONST(3)   CALNVLR X0</span>
<span class="sd">                  RCONST(4)   CALNVLR X1</span>
<span class="sd">                  RCONST(5)   CALNVLC X0</span>
<span class="sd">                  RCONST(6)   CALNVLC X1</span>
<span class="sd">                  RCONST(7)   CALNVTW X0</span>
<span class="sd">                  RCONST(8)   CALNVTW X1</span>
<span class="sd">                  RCONST(9)   CALNVTR X0</span>
<span class="sd">                  RCONST(10)  CALNVTR X1</span>
<span class="sd">                  RCONST(11)  CALNVTC X0</span>
<span class="sd">                  RCONST(12)  CALNVTC X1</span>
<span class="sd">                  RCONST(13)  CALRSL X0     RS Value at T0</span>
<span class="sd">                  RCONST(14)  CALRSL T0</span>
<span class="sd">                  RCONST(15)  CALRST X0     RS value at T0</span>
<span class="sd">                  RCONST(16)  CALRST T0</span>

<span class="sd">                  Inputs: </span>
<span class="sd">                  NVLW Nevzorov Liquid Water                   Para 208  8 Hz</span>
<span class="sd">                  NVLR Nevzorov Liquid Reference               Para 209  8 Hz</span>
<span class="sd">                  NVLC Nevzorov Liquid Collector               Para 210  8 Hz</span>
<span class="sd">                  NVTW Nevzorov Total Water                    Para 211  8 Hz</span>
<span class="sd">                  NVTR Nevzorov Total Reference                Para 212  8 Hz</span>
<span class="sd">                  NVTC Nevzorov Total Collector                Para 213  8 Hz</span>
<span class="sd">                  SREG Signal register [bits 1-2]              Para  27  2 Hz</span>
<span class="sd">                  TAS  True airspeed                           Para 517 32 Hz</span>

<span class="sd">                  Outputs: </span>
<span class="sd">                  NVLW Nevzorov Liquid Water     [gm-3]         Para 602 8 Hz</span>
<span class="sd">                  NVLR Nevzorov Liquid Reference [V]            Para 603 8 Hz</span>
<span class="sd">                  NVLC Nevzorov Liquid Collector [V]            Para 604 8 Hz</span>
<span class="sd">                  NVTW Nevzorov Total Water      [gm-3]         Para 605 8 Hz</span>
<span class="sd">                  NVTR Nevzorov Total Reference  [V]            Para 606 8 Hz</span>
<span class="sd">                  NVTC Nevzorov Total Collector  [V]            Para 607 8 Hz</span>
<span class="sd">                </span>
<span class="sd"> SUBPROGRAMS      ITSTFLG          Examines bits 16,17 for flags</span>
<span class="sd">                  ISETFLG          Sets flag bits 16,17 = 0 --&gt; 3</span>

<span class="sd"> REFERENCES       </span>

<span class="sd"> CHANGES           V1.01  27/09/02  W.D.N.JACKSON</span>
<span class="sd">                   Changed to include handling of 16 bit data from the new </span>
<span class="sd">                   DRS.</span>
<span class="sd">                   V1.02  13/11/06</span>
<span class="sd">                   Signal register bits 1 and 2 swapped to be the correct way</span>
<span class="sd">                   round 1=TW, 2=LW</span>
<span class="sd">                   V1.03  12/12/06</span>
<span class="sd">                   Voltage flags explicitly set to zero</span>

<span class="sd">*******************************************************************************</span>

<span class="sd">&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dataset</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_names</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;CALNVLW&#39;</span><span class="p">,</span> <span class="s">&#39;CALNVLR&#39;</span><span class="p">,</span> <span class="s">&#39;CALNVLC&#39;</span><span class="p">,</span> <span class="s">&#39;CALNVTW&#39;</span><span class="p">,</span> <span class="s">&#39;CALNVTR&#39;</span><span class="p">,</span> <span class="s">&#39;CALNVTC&#39;</span><span class="p">,</span> <span class="s">&#39;CALRSL&#39;</span><span class="p">,</span> <span class="s">&#39;CALRST&#39;</span><span class="p">,</span> 
                          <span class="s">&#39;Horace_SREG&#39;</span><span class="p">,</span> <span class="s">&#39;Horace_NVLW&#39;</span><span class="p">,</span> <span class="s">&#39;Horace_NVLR&#39;</span><span class="p">,</span> <span class="s">&#39;Horace_NVLC&#39;</span><span class="p">,</span> 
                          <span class="s">&#39;Horace_NVTW&#39;</span><span class="p">,</span> <span class="s">&#39;Horace_NVTR&#39;</span><span class="p">,</span> <span class="s">&#39;Horace_NVTC&#39;</span><span class="p">,</span> <span class="s">&#39;TAS_RVSM&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="n">parameter</span><span class="p">(</span><span class="s">&#39;NV_LWC_U&#39;</span><span class="p">,</span><span class="n">units</span><span class="o">=</span><span class="s">&#39;gram m-3&#39;</span><span class="p">,</span><span class="n">frequency</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span><span class="n">number</span><span class="o">=</span><span class="mi">602</span><span class="p">,</span><span class="n">long_name</span><span class="o">=</span><span class="s">&#39;Uncorrected liquid water content from the Nevzorov probe&#39;</span><span class="p">)</span>
                     <span class="p">,</span><span class="n">parameter</span><span class="p">(</span><span class="s">&#39;NVLR_CAL&#39;</span><span class="p">,</span><span class="n">units</span><span class="o">=</span><span class="s">&#39;V&#39;</span><span class="p">,</span><span class="n">frequency</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span><span class="n">number</span><span class="o">=</span><span class="mi">603</span><span class="p">,</span><span class="n">long_name</span><span class="o">=</span><span class="s">&#39;NEVZOROV LIQUID REFE&#39;</span><span class="p">)</span>
                     <span class="p">,</span><span class="n">parameter</span><span class="p">(</span><span class="s">&#39;NVLC_CAL&#39;</span><span class="p">,</span><span class="n">units</span><span class="o">=</span><span class="s">&#39;V&#39;</span><span class="p">,</span><span class="n">frequency</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span><span class="n">number</span><span class="o">=</span><span class="mi">604</span><span class="p">,</span><span class="n">long_name</span><span class="o">=</span><span class="s">&#39;NEVZOROV LIQUID COLL&#39;</span><span class="p">)</span>
                     <span class="p">,</span><span class="n">parameter</span><span class="p">(</span><span class="s">&#39;NV_TCW_U&#39;</span><span class="p">,</span><span class="n">units</span><span class="o">=</span><span class="s">&#39;gram m-3&#39;</span><span class="p">,</span><span class="n">frequency</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span><span class="n">number</span><span class="o">=</span><span class="mi">605</span><span class="p">,</span><span class="n">long_name</span><span class="o">=</span><span class="s">&#39;Uncorrected total condensed water content from the Nevzorov probe.&#39;</span><span class="p">)</span>
                     <span class="p">,</span><span class="n">parameter</span><span class="p">(</span><span class="s">&#39;NVTR_CAL&#39;</span><span class="p">,</span><span class="n">units</span><span class="o">=</span><span class="s">&#39;V&#39;</span><span class="p">,</span><span class="n">frequency</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span><span class="n">number</span><span class="o">=</span><span class="mi">606</span><span class="p">,</span><span class="n">long_name</span><span class="o">=</span><span class="s">&#39;NEVZOROV TOTAL REFER&#39;</span><span class="p">)</span>
                     <span class="p">,</span><span class="n">parameter</span><span class="p">(</span><span class="s">&#39;NVTC_CAL&#39;</span><span class="p">,</span><span class="n">units</span><span class="o">=</span><span class="s">&#39;V&#39;</span><span class="p">,</span><span class="n">frequency</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span><span class="n">number</span><span class="o">=</span><span class="mi">607</span><span class="p">,</span><span class="n">long_name</span><span class="o">=</span><span class="s">&#39;NEVZOROV TOTAL COLLE&#39;</span><span class="p">)]</span>
        <span class="c">#self.name=&#39;NEVZ&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="o">=</span><span class="mf">1.00</span>
        <span class="n">fort_cal</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dataset</span><span class="p">)</span></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">ppodd  documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Module code</a> &raquo;</li>
          <li><a href="../pod.html" >ppodd.pod</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Author.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>