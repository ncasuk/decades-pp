

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pod Package &mdash; ppodd 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="ppodd 0.1 documentation" href="index.html" />
    <link rel="up" title="ppodd Package" href="ppodd.html" />
    <link rel="prev" title="gui Package" href="ppodd.gui.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ppodd.gui.html" title="gui Package"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">ppodd 0.1 documentation</a> &raquo;</li>
          <li><a href="ppodd.html" accesskey="U">ppodd Package</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="pod-package">
<h1>pod Package<a class="headerlink" href="#pod-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">pod</span></tt> Package<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-ppodd.pod"></span><p><strong>pod</strong> is the package containing all the standard processing routines.  Routines are assumed to be in modules named p_* with * being the class name of the routine.</p>
<p>All classes are added to a dictionary called modules.  If ppodd.pod.modules is altered before a decades_dataset is created then this altered set of modules is what will be used.</p>
<p>&#64;author Dave Tiddeman</p>
<dl class="function">
<dt id="ppodd.pod.addmodule">
<tt class="descclassname">ppodd.pod.</tt><tt class="descname">addmodule</tt><big>(</big><em>cls</em><big>)</big><a class="headerlink" href="#ppodd.pod.addmodule" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ppodd.pod.getstandardmodule">
<tt class="descclassname">ppodd.pod.</tt><tt class="descname">getstandardmodule</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.getstandardmodule" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ppodd.pod.is_calmodule">
<tt class="descclassname">ppodd.pod.</tt><tt class="descname">is_calmodule</tt><big>(</big><em>mod</em><big>)</big><a class="headerlink" href="#ppodd.pod.is_calmodule" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether it is a calibration module, by making sure it has a &#8216;run&#8217; member</p>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_airspd">
<span id="p-airspd-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_airspd</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_airspd" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_airspd.airspd">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_airspd.</tt><tt class="descname">airspd</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_airspd.airspd" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_AIRSPD</p>
<blockquote>
<div><p>ROUTINE          C_AIRSPD SUBROUTINE FORTVAX</p>
<p>PURPOSE          Derives Indicated and True Airspedd (paras 516 &amp; 517)</p>
<dl class="docutils">
<dt>DESCRIPTION      True Air Speed is the component of air flow parallel to</dt>
<dd><p class="first">the Aircraft&#8217;s longitudinal axis.</p>
<dl class="docutils">
<dt>IAS =  340.294 </dt>
<dd><ul class="first last simple">
<li>Mach no.</li>
<li>SQRT(Static Pressure[mb]/ 1013.25)      in ms-1</li>
</ul>
</dd>
<dt>TAS =  A/S correction factor </dt>
<dd><ul class="first last simple">
<li>340.294</li>
<li>Mach no.</li>
<li>SQRT(De-iced True Air Temp[K] / 288.15) in ms-1</li>
</ul>
</dd>
</dl>
<p>where:</p>
<blockquote>
<div>288.15   is ICAO Standard temperature [K] at zero altitude.
340.294  is speed of sound [ms-1]         at zero altitude.
Mach no. is computed by subroutine S_MACH.</div></blockquote>
<p class="last">Flagging - If a value can&#8217;t be computed, due to missing data
missing constants, divide be zeroes, etc, a value of 0 is
used, flagged with a three.  If a value is outside its 
limits for range or rate of change, it is flagged with a two.
If there are no problems with the data it is flagged with 0.
Any flags on input data are propagated through subsequent 
calculations.</p>
</dd>
</dl>
<p>VERSION          1.00  020190   A.D.HENNINGS</p>
<dl class="docutils">
<dt>ARGUMENTS        For Indicated Airspeed:</dt>
<dd><blockquote class="first">
<div><p>RDER(IN,576) REAL*4 IN  Derived static pressure in mb
RDER(IN,577) REAL*4 IN  Derived Pitot static pressure in mb</p>
<blockquote>
<div>(samples IN = 1,32 )</div></blockquote>
<dl class="docutils">
<dt>RDER(OP,516) REAL*4 OUT Derived Indicated Airspeed  ms-1</dt>
<dd>(samples OP = 1,32 )</dd>
</dl>
</div></blockquote>
<dl class="last docutils">
<dt>For True Airspeed:</dt>
<dd><p class="first">RCONST(1)    REAL*4 IN  True Airspeed correction factor  
RDER(IN,576) REAL*4 IN  Derived static pressure in mb
RDER(IN,577) REAL*4 IN  Derived Pitot static pressure in mb
RDER(IN,520) REAL*4 IN  Derived De-iced True air temp deg K</p>
<blockquote>
<div>(samples IN = 1,32 )</div></blockquote>
<dl class="last docutils">
<dt>RDER(IN,525) REAL*4 IN  Derived Non-Deiced True air temp deg K</dt>
<dd>(samples IN = 1,32 )</dd>
<dt>RDER(OP,517) REAL*4 OUT Derived True Airspeed  ms-1</dt>
<dd>(samples OP = 1,32 )</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<p>SUBPROGRAMS      S_MACH, S_QCPT, ITSTFLG, ISETFLG</p>
<dl class="docutils">
<dt>REFERENCES       Code adapted from MRF1/HORACE</dt>
<dd><dl class="first last docutils">
<dt>n.b. RCONST(1) (Air speed correction factor &#8216;K&#8217; should be</dt>
<dd>determined by &#8216;K &amp; Gamma&#8217; aircraft runs. The value
in RCONST(1) is unity. Experimental values have been
found between 0.98 and 1.02; (HORACE used 1.002 from 
June 1988 - Jan 1990., value suggested by S.Nicholls
after JASIN experiment).</dd>
</dl>
</dd>
<dt>CHANGES          V1.01  02/06/93  Limit on max rate of change between</dt>
<dd><p class="first">adjacent samples has been increased to 3.3 m/s.  This is
based on analysis of the high turbulence A257 flight, where
the histogram of rates of change showed meaningful changes
of up to 3.0 m/s between adjacent samples. (WDNJ)
Also changed so that data with flags of 2 are processed
rather than rejected and flags are stripped from data before
processing. (WDNJ)</p>
<p class="last">V1.02 20/06/06 If TAT_DI flag is 2 or more, then takes
temperature input from TAT_NDI (Phil Brown)</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_cnc">
<span id="p-cnc-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_cnc</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_cnc" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_cnc.cnc">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_cnc.</tt><tt class="descname">cnc</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_cnc.cnc" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_CNC</p>
<blockquote>
<div><p>ROUTINE          C_CNC SUBROUTINE FORTVAX</p>
<p>PURPOSE          Produces (CNCC) CNC Concentration (568) as a real number</p>
<dl class="docutils">
<dt>DESCRIPTION      Takes 16 bit word from the DRS interface which contains</dt>
<dd><p class="first">four decimal digits as BCD (leftmost digit being the highest
nibble). This word is recorded as DRS parameter 50 (CNC).
The four decimal digits represent a real number of the form:</p>
<blockquote>
<div>ab.cEd</div></blockquote>
<p>which is calculated thus:</p>
<blockquote>
<div>(a + b/10 + y/100) * 10**d</div></blockquote>
<p class="last">Checks are made that no hexadecimal figures are included
in the initial nibbles. Any data including these returns
a value of 0.0 and is flagged 3. (If the 4 BCD digits
return AAAA it means there was no response from the CNC
whilst EEEE means the CNC responded with ERROR.)</p>
</dd>
</dl>
<p>VERSION          1.00 21/03/97 D H ANDERSON</p>
<dl class="docutils">
<dt>ARGUMENTS        IRAW(64,512) I*4 IN  Up to 64 samples for up to 512 DRS pars</dt>
<dd><p class="first">IFRQ(512)    I*4 IN  Sample rate of each DRS par (0-64)
RCONST(64)   R*4 IN  Inputs constants (none used by C_CNC)
RDER(64,1024)R*4 OUT Output array of up to 64 samples for</p>
<blockquote class="last">
<div>each of 1024 parameters</div></blockquote>
</dd>
</dl>
<p>CHANGES</p>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_comr">
<span id="p-comr-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_comr</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_comr" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_comr.comr">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_comr.</tt><tt class="descname">comr</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_comr.comr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_COMR</p>
<blockquote>
<div><p>ROUTINE        C_COMR SUBROUTINE FORTVAX</p>
<p>PURPOSE        A subroutine to calculate Carbon monoxide.</p>
<dl class="docutils">
<dt>DESCRIPTION    The CO analyser outputs one measurement.</dt>
<dd>This is input to the program as DRS bits, and converted
into PPB by multiplying the DRS bits by a calibration factor.</dd>
</dl>
<p>TO COMPILE     $FORT C_COMR</p>
<dl class="docutils">
<dt>VERSION        1.00  8-Jul-2004        D.Tiddeman</dt>
<dd><p class="first">1.01  27-OCT-2005
1.02
1.03 31-JAN-2007 R Purvis Changed timedelay after cal to 20
1.04 18-SEP-2007 R Purvis        RCONST(5) added for correction factor
1.05 30-JUL-2010 S Bauguitte increased CO flag count threshold from 8000 to 10000
1.06 15-OCT-2012 A Wellpott CO upper threshold flagging added. Now values above</p>
<blockquote class="last">
<div>4995 are flagged with 3</div></blockquote>
</dd>
<dt>ARGUMENTS      IRAW(1,154) - on entry contains the raw CO signal</dt>
<dd><p class="first">IRAW(1,223) - on entry contains raw RVSM airspeed
IRAW(1,113) - cal info ?
RCONST(1,2,3,4) XO and X1 voltage cal for CO, v to ppb, ppb offs</p>
<blockquote class="last">
<div>RDER(1,782) - on exit contains the derived CO signal</div></blockquote>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_drs">
<span id="p-drs-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_drs</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_drs" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_drs.drs">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_drs.</tt><tt class="descname">drs</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_drs.drs" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_DRS</p>
<blockquote>
<div><p>ROUTINE          C_DRS SUBROUTINE FORTVAX</p>
<p>PURPOSE          Calibrates the DRS time, event, signal reg, cab press &amp; temp</p>
<dl class="docutils">
<dt>DESCRIPTION      Produces time            (515) as real      secs past mdnt</dt>
<dd>Produces event mark      (644) as real      drs units
Produces signal register (641) as integer   drs units
Produces cabin temp      (660) as real      deg C</dd>
</dl>
<p>VERSION          1.00  10-1-90  N.JACKSON</p>
<dl class="docutils">
<dt>ARGUMENTS        IRAW(64,512) I*4 IN  Up to 64 samples for up to 512 DRS pars</dt>
<dd><p class="first">IFRQ(512)    I*4 IN  Sample rate of each DRS par (0-64)
RCONST(64)   R*4 IN  Inputs constants (none used by C_DRS)
RDER(64,1024)R*4 OUT Output array of up to 64 samples for</p>
<blockquote class="last">
<div>each of 1024 parameters</div></blockquote>
</dd>
<dt>CHANGES          1.01  7-4-92  W.D.N.JACKSON</dt>
<dd><p class="first">Bug fixed which caused time to be 1 minute out after
midnight crossovers.</p>
<p>1.02  30-09-02  W.D.N.JACKSON
Changed to handle new DRS on 146, and also cabin 
temperature.  Signal register now returned as a real
number.</p>
<p class="last">1.03  04-01-06  D.A.TIDDEMAN
Checks flags on cabin pressire constants before 
processing.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_fwvs">
<span id="p-fwvs-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_fwvs</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_fwvs" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_fwvs.fwvs">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_fwvs.</tt><tt class="descname">fwvs</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_fwvs.fwvs" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_FWVS</p>
<blockquote>
<div><p>ROUTINE          C_FWVS SUBROUTINE FORTVAX</p>
<p>PURPOSE          Produces FWVS dewpoint</p>
<p>DESCRIPTION</p>
<p>VERSION          1.00 30/04/07 D TIDDEMAN</p>
<dl class="docutils">
<dt>ARGUMENTS        IRAW(64,512) I*4 IN  Up to 64 samples for up to 512 DRS pars</dt>
<dd><p class="first">IFRQ(512)    I*4 IN  Sample rate of each DRS par (0-64)
RCONST(64)   R*4 IN  Inputs constants (none used by C_CNC)
RDER(64,1024)R*4 OUT Output array of up to 64 samples for</p>
<blockquote class="last">
<div>each of 1024 parameters</div></blockquote>
</dd>
</dl>
<p>CHANGES</p>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_geneas">
<span id="p-geneas-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_geneas</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_geneas" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_geneas.geneas">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_geneas.</tt><tt class="descname">geneas</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_geneas.geneas" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_GENEAS
DEC$ IDENT &#8216;V1.02&#8217;</p>
<blockquote>
<div><p>ROUTINE           C_GENEAS     SUBROUTINE FORTVAX</p>
<p>PURPOSE           Derivation of Dew point</p>
<p>DESCRIPTION      Calculation of Dew Point in K from General Eastern Hygrometer</p>
<blockquote>
<div><blockquote>
<div>529- Dew Point                             [K]</div></blockquote>
<p>The General Eastern Hygrometer (Parameter 58) is recorded 
in binary with a range of 0 to 4095 DRS bits.
A control signal (Parameter 59) is also recorded which 
gives an indication of the amount of heating or cooling
of the mirror.
The instrument should be in control if the signal is between
certain limits. 
Outside these limits it still produces a dew point 
reading,though of doubtful accuracy, and derived data 
is flagged - FLAG = 2.</p>
</div></blockquote>
<dl class="docutils">
<dt>VERSION           1.00  240190   J HARMER</dt>
<dd>1.01  17-01-96 D Lauchlan</dd>
<dt>ARGUMENTS </dt>
<dd><p class="first">Constants:
GEMAX      Maximum control condition signal limit RCONST(1)
GEMIN      Minimum control condition signal limit RCONST(2)
CALGE(1)   GE Dew point calib. constant x0        RCONST(3)
CALGE(2)   GE Dew point calib. constant x1        RCONST(4)
CALGE(3)   GE Dew point calib. constant x2        RCONST(5)</p>
<p>Inputs   : 
GENERAL EASTERN 1011 DEW POINT    [drs units ] Para 58
GENERAL EASTERN CONTROL SIGNAL    [drs units ] Para 59</p>
<p class="last">Outputs  : 
DEW POINT                            [K]      Para 529</p>
</dd>
<dt>SUBPROGRAMS</dt>
<dd>ITSTFLG          Examines bits 16,17 for flags
ISETFLG          Sets flag bits 16,17 = 0 &#8211;&gt; 3
S_QCPT           Performs range and rate of change check</dd>
</dl>
<p>REFERENCES        Code adapted from MRF1/MRF2</p>
<dl class="docutils">
<dt>CHANGES          v1.01 17-01-96 D Lauchlan</dt>
<dd><p class="first">Unused variables removed</p>
<p class="last">V1.02  27/09/02  W.D.N.JACKSON
Changed to include handling of 16 bit data from the new 
DRS.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_gin">
<span id="p-gin-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_gin</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_gin" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_gin.gin">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_gin.</tt><tt class="descname">gin</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_gin.gin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.cal_base" title="ppodd.core.cal_base"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.cal_base</span></tt></a></p>
<p>GIN processing</p>
<blockquote>
<div><p>Purpose:  Resample GIN data to 32Hz so it matches the time frame of turbulence and temperature data</p>
<p>Description:  Use numpy.interpolation to resample frequency from 50 to 32Hz
Missing out times where the gap is greater than 0.5 sec ( see resample.createtimes )</p>
</div></blockquote>
<p>&#64;author: Dave Tiddeman</p>
<dl class="method">
<dt id="ppodd.pod.p_gin.gin.process">
<tt class="descname">process</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.p_gin.gin.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_grflux">
<span id="p-grflux-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_grflux</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_grflux" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_grflux.grflux">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_grflux.</tt><tt class="descname">grflux</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_grflux.grflux" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<blockquote>
<div><p>ROUTINE           C_RFLUX        SUBROUTINE FORTVAX       [C_RFLUX.FOR]</p>
<p>PURPOSE           CORRECT RAW FLUXES FOR PYRANOMETERS AND PYRGEOMETERS</p>
<dl class="docutils">
<dt>DESCRIPTION      Flux corrections are performed for the six instruments</dt>
<dd><blockquote class="first">
<div><p>which are normally configured:
Upward-facing :-  Clear dome and Red dome pyranometers.</p>
<blockquote>
<div>Silver dome pyrgeometer.</div></blockquote>
<dl class="docutils">
<dt>Downward-facing:- Clear dome and Red dome pyranometers.</dt>
<dd>Silver dome pyrgeometer.</dd>
</dl>
<p>The actual configuration is specified by the preset array
ICONF, which has six elements whose meaning interpreted as:</p>
<blockquote>
<div>1,4 : Clear dome pyranometer  (upper/lower)
2,5 : red    &#8221;       &#8221;           &#8221;     &#8221;
3,6 : Silver &#8221;   pyrgeometer     &#8221;     &#8220;</div></blockquote>
<dl class="docutils">
<dt>(normally: ICONF(1-3) Upper instruments.</dt>
<dd>ICONF(4-6) Lower instruments.)</dd>
</dl>
</div></blockquote>
<p>Check that the normal configuration of instruments is to
be used. Any changes are indicated by the presence of a large
offset to the last calibration constant for any instrument
(i.e. the obscurer indicator constant).
If this is present the offset is interpreted as a revised
ICONF indicator for that instrument. See note below.]</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>n.b. Lower instruments were fitted w.e.f. Flight H797</dt>
<dd>Upper instruments were fitted w.e.f. Flight H842</dd>
</dl>
<p>This value solely determines the control path through the
routine for the processing of each instruments inputs.
Should the configuration aboard the aircraft be changed
the array ICONF should be adjusted accordingly.
e.g. If ICONF(1) was modified := 2; it would imply that the
&#8216;channel&#8217; contained raw flux, zero-offset and thermistor
values for a red dome - rather than clear - pyranometer.
The value of ICONF(1) i.e. 2 would determine the processing
path, the selection of the appropriate set of constants
to apply for correction and the range checking.</p>
</div></blockquote>
</dd>
<dt>NOTE             CHANGES FROM STANDARD CONFIGURATION.                    </dt>
<dd><p class="first">Should the configuration of BBR instruments aboard the 
aircraft be changed e.g. swapping a red dome for clear dome,
the array ICONF is  adjusted accordingly. The mechanism used
is to add an offset to the sixth constant in the calibration 
constants file (i.e. the obscurer) for that instrument.
Example: If the second &#8216;channel&#8217; (inputs 674,677,680) which
in the standard configuration is a red dome pyranometer,
was replaced with a second clear dome instrument, the sixth
constant for the second line of the constants for C_RFLUX 
would be changed from 1.0000E+0 to 21.0000E+0, the offset 
decodes to &#8220;2&#8221; when detected by this program. 
This is assigned to ICONF(2) and would imply that the 
&#8216;channel&#8217; inputs contain raw flux, zero-offset and thermistor 
values for a red dome - rather than clear dome - pyranometer,
and should be range-checked for that type of output only.</p>
<p>Pyranometers (Clear and Red dome) are corrected for:
- Subtraction of a zero offset (mean over past 10 seconds)
- Attitude (pitch and roll) -Upper instruments only.</p>
<blockquote>
<div><p>test if flux is above a critical limit indicating a direct
solar beam component.</p>
<blockquote>
<div><p>If not direct, assume diffuse and apply no attitude corr.
If DIRECT, a geometric correction is used to &#8220;level&#8221;
the instrument to produce the equivalent hemispheric
downward flux through a horizontal surface (without
inclusion of diffuse component).
The ratio of the Direct:Direct+Diffuse components is
assumed to be 0.95 at present. This value could be
optimised for a particular atmosphere depending on the 
turbidity as a function of height.</p>
<p>Correct for COSINE effect. (MRF Technical note No.7).
[Pitch and roll offsets of the instrument thermopiles
relative to the aircraft INS platform are derived in
flight by flying a box pattern in cloud-free skies -
These offsets are then used in addition to the INS pitch
and roll (meaned over two seconds). (See MRF Technical
note No 4.) and these values are supplied as arguments 
four and five in each set of CONSTANTS below.</p>
</div></blockquote>
</div></blockquote>
<ul class="simple">
<li>Time constant of thermopile relative to INS. The mean of
last two seconds of INS pitch/roll angles are used in the
attitude correction, giving an effective difference of
0.5 seconds.</li>
<li>Correct flux output for proportion of hemispheric dome 
obscured by indicated obscurer pillar. (Rawlins 1986).</li>
</ul>
<p>Pyrgeometers (IR) are corrected for:
- Zero offset (mean over past 10 seconds)
- Temperature sensitivity  (Coefficients in CONSTANTS below)
- Linear dependence 0.2% per degree with sensitivity defined</p>
<blockquote>
<div>as unity at zero C. applied to signal. (MRF Int note No 50)</div></blockquote>
<ul class="simple">
<li>Calculation of flux (sigma T^4 correction)
Flux = signal +(sigma* Tsink^4) 
where sigma = Stefan-Boltzmann constant.</li>
</ul>
<dl class="last docutils">
<dt>_ Upper instrument is corrected for dome transmission</dt>
<dd>effects (MRF Tech note 3)</dd>
</dl>
</dd>
</dl>
<p>VERSION           1.17 05-09-07   D Tiddeman</p>
<dl class="docutils">
<dt>METHOD           1. First time routine is called, assign constants to named</dt>
<dd><blockquote class="first">
<div>program variables/arrays.
Decide on basis of input constants whether upper instr.
data is available to be processed.</div></blockquote>
<ol class="last arabic" start="2">
<li><p class="first">Derive/convert any intermediate results used multiply
within several code sections following.</p>
</li>
<li><p class="first">Derive running mean zero-offsets over the past 10 seconds
for each instrument</p>
</li>
<li><p class="first">Calculate mean pitch and roll values for the current 
second and use them to derive running means for the past 
two seconds.</p>
</li>
<li><p class="first">Correct thermistor temperatures for non-linearity.</p>
</li>
<li><p class="first">Cycle through each of six instrument input channels.
Use the control variable in ICONF() to select execution
of appropriate code sections.
In all cases; derive a signal zero-offset and reduce the
signal flux by this amount.
Apply temperature-dependance corrections to pyranometers.
For upward-facing pyranometers the &#8216;critical&#8217; value to
discriminate between diffuse and direct-sun conditions is</p>
<blockquote>
<div><p>FCRIT  = 920.*(COS(ZENRAD))**1.28</p>
</div></blockquote>
<p>where ZENRAD : solar zenith angle (in radians)
[N.B. This approximates to the &#8216;German&#8217; equation but is</p>
<blockquote>
<div><p>simpler, and does not produce negative values at low
Sun elevations].</p>
</div></blockquote>
<p>Correct flux output for proportion of hemispheric dome 
obscured by indicated obscurer pillar. (Rawlins 1986).</p>
</li>
<li><p class="first">Range check flux output and set a flag accordingly.
Apply flag values to resulting flux output dependent on
relevant flag settings.</p>
</li>
</ol>
</dd>
<dt>ARGUMENTS        RCONST(1),( 7)..(31)  - REAL*4 IN Temperature Sens. coeff a</dt>
<dd><p class="first">RCONST(2),( 8)..(32)  - REAL*4 IN Temperature Sens. coeff b
RCONST(3),( 9)..(33)  - REAL*4 IN Temperature Sens. coeff c
RCONST(4),(10)..(34)  - REAL*4 IN Pitch offset of Instrument
RCONST(5),(11)..(35)  - REAL*4 IN Roll  offset of Instrument
RCONST(6),(12)..(36)  - REAL*4 IN Obscurer pillar type.</p>
<dl class="docutils">
<dt>RDER(1,par)             REAL*4  IN Six raw flux signals W/M-2</dt>
<dd>(par=673-675,682-684)</dd>
<dt>RDER(1,par)             REAL*4  IN six zero-offsets   (W/M-2)</dt>
<dd>(par=676-678,685-687)</dd>
<dt>RDER(1,par)             REAL*4  IN six instr. temperatures K</dt>
<dd>(par=679-681,688-690)</dd>
</dl>
<p>RDER(32,560)            REAL*4  IN INS Roll      (degrees)
RDER(32,561)            REAL*4  IN INS Pitch     (degrees)
RDER(32,562)            REAL*4  IN INS heading   (degrees)
RDER(1,642)             REAL*4  IN Solar azimuth (degrees)
RDER(1,643)             REAL*4  IN Solar zenith  (degrees)</p>
<blockquote>
<div>Pos. Dome  Units</div></blockquote>
<p class="last">RDER(1,1019)            REAL*4 OUT Corrected Upp Clear W/m-2 
RDER(1,1020)            REAL*4 OUT flux.      &#8221;  Red dome &#8221; 
RDER(1,1021)            REAL*4 OUT            &#8221;  I/R      &#8221;
RDER(1,1022)            REAL*4 OUT           Low Clear    &#8221;
RDER(1,1023)            REAL*4 OUT            &#8221;  Red dome &#8221; 
RDER(1,1024)            REAL*4 OUT            &#8221;  I/R      &#8220;</p>
</dd>
</dl>
<p>SUBPROGRAMS       ITSTFLG, ISETFLG, S_RUNM, CORR_THM, RMEANOF, CIRC_AVRG</p>
<dl class="docutils">
<dt>REFERENCES        MRF Internal note  4.</dt>
<dd><blockquote class="first">
<div>&#8221;     &#8221;      &#8221;   12.
&#8221;     &#8221;      &#8221;   31.
&#8221;     &#8221;      &#8221;   50.
&#8221;     &#8221;      &#8221;   56.</div></blockquote>
<dl class="docutils">
<dt>MRF Technical note 3. Pyrgeometer Corrections due to Dome</dt>
<dd>Transmission.  February 1991 Kilsby</dd>
<dt>MRF Technical note 7. Report of Broad-band radiative fluxes</dt>
<dd>working group. 17/12/91      Saunders</dd>
<dt>MRF Technical note 8. Pyramometer calibrationsin Ascension</dt>
<dd>of Feb.1992.   4/6/92        Seymour</dd>
</dl>
<p class="last">RAWLINS  R        D/Met.O.(MRF)/13/1      1986.
SAUNDERS R         &#8221;        &#8221;   &#8221;         21/3/90
SAUNDERS R        M/MRF/13/5              22/7/92</p>
</dd>
<dt>CHANGES          10/01/91 A.D.Hennings.</dt>
<dd><blockquote class="first">
<div>Ability to change ICONF to when reconfiguring instrument
fit on A/C using the constants file.</div></blockquote>
<p>10/01/91 Pitch &amp; Roll averaging changed from 3 to 2 seconds.
25/01/91 Flags assessment changed; use of new flag IFLAG_SUN 
29/01/91 Roll limit checking:replace ROLBAR with ABS(ROLBAR).</p>
<blockquote>
<div>Flags assessment changed; IFLAG_OUTPUT being max of
(signal,Pitch,Roll,Zenith) flags.</div></blockquote>
<p>30/07/91 FCRIT for Red dome now only used if no clear dome 
16/10/91 Corrected pyrgeometer temp sensitivity correction
20/01/92 Use INS heading instead of obsolete Omega heading.
03/02/92 New subroutine CIRC_AVRG to calc INS mean heading
21/07/92 Levelling of upper pyranometers changed to use</p>
<blockquote>
<div>direct beam component, and cosine effect included.
Recommendations of MRF Tech note 7.   (V1.13)
references to Tech note 8. and M/MRF/13/5</div></blockquote>
<dl class="last docutils">
<dt>24/07/92 Pyrgeometer corrections for Dome transmission. </dt>
<dd>(Downwelling) MRF Tech note 3.</dd>
<dt>17/01/96 D Lauchlan</dt>
<dd>Unused variables removed</dd>
<dt>22/12/97 W D N Jackson, Flags cleared from all data before</dt>
<dd>use.</dd>
<dt>11/08/98 W D N Jackson, Upper pyranometer obscurer</dt>
<dd>corrections changed to correct values.  The
values have been incorrect in all previous versions
of C_RFLUX. The error is only small. (Source 
P Hignett)</dd>
<dt>05/09/07 D TIDDEMAN Will use GIN attitude if available rather </dt>
<dd>then INU</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_gsun">
<span id="p-gsun-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_gsun</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_gsun" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_gsun.gsun">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_gsun.</tt><tt class="descname">gsun</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_gsun.gsun" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_GSUN</p>
<blockquote>
<div><p>ROUTINE          C_SUN         SUBROUTINE FORTVAX  C_SUN.FOR</p>
<p>PURPOSE          PUT SOLAR ZENITH AND AZIMUTH ANGLES IN MFD</p>
<dl class="docutils">
<dt>DESCRIPTION      Given date, time and location on the earth&#8217;s</dt>
<dd>surface this routine puts a solar zenith and
azimuth angle in the array of derived parameters.
It computes a value once every second. The 
angles are only obtained if all the flags are
set to less than 3 and the date, time and location
are all within sensible limits. Any flags set on input
are also set in the solar angles derived. If
the input is in error or the flags are set to 3
a value of -99. is returned for ZEN and AZIM.
To test the routine:
$ FOR C_SUN
$ FOR TEST_C_SUN
$ LINK TEST_C_SUN,C_SUN
Ensure contents of files RCONST.DAT and TEST_C_SUN.DAT
contain simulated data you require to test the routine
with.</dd>
</dl>
<p>VERSION          1.02  1st May 1992   J.A.Smith</p>
<dl class="docutils">
<dt>ARGUMENTS        RDER(1,515)  R*4 IN Time GMT (seconds from midnight)</dt>
<dd><blockquote class="first">
<div>RDER(1,550)  R*4 IN Omega latitude degrees (north +ve)
RDER(1,551)  R*4 IN Omega longitude degrees (east +ve)</div></blockquote>
<p>or RDER(1,541)  R*4 IN INU latitude degrees (north +ve)
or RDER(1,542)  R*4 IN INU longitude degrees (east +ve)</p>
<blockquote class="last">
<div>RCONST(1)    R*4 IN Day in month (1-31)
RCONST(2)    R*4 IN Month in year (1-12)
RCONST(3)    R*4 IN Year (eg 1984)
RDER(1,642)  R*4 OUT Solar azimuth in degrees
RDER(1,643)  R*4 OUT Solar zenith in degrees</div></blockquote>
</dd>
</dl>
<p>SUBPROGRAMS      S_SUN , ITSTFLG, ISETFLG</p>
<dl class="docutils">
<dt>CHANGES          01 Range checks for input data now done in S_SUN </dt>
<dd><blockquote class="first">
<div>RWS 30/10/90</div></blockquote>
<dl class="docutils">
<dt>1.02 Check added if time RSECS has reached midnight and</dt>
<dd>if so to reduce RSECS to less than 86400 s and increase
the date.  JAS 1/5/92</dd>
<dt>1.03 Following the demise of the Omega, now uses INU position</dt>
<dd>for flights after 30/09/97.  Note that this routine is
now always called by CALIBRATE, even if neither Omega or
INU were available.  WDNJ 20/10/97</dd>
</dl>
<p class="last">1.04 Now strips flags from data before use.  WDNJ 22/12/97
1.05 Can take GIN input 05/09/07
1.06 Changes made how lon/lat input is derived AxW 29/03/10</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_gwinds">
<span id="p-gwinds-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_gwinds</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_gwinds" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_gwinds.gwinds">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_gwinds.</tt><tt class="descname">gwinds</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_gwinds.gwinds" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_GWINDS</p>
<blockquote>
<div><p>ROUTINE          C_GWINDS SUBROUTINE FORTVAX</p>
<p>PURPOSE          Computes raw winds from TAS, vanes, and INS data</p>
<dl class="docutils">
<dt>DESCRIPTION      Computes values of the three wind components, using true</dt>
<dd><p class="first">airspeed, angle of attack and sideslip, and INS velocity,
attitude, and attitude rate information. Note that at this
stage the INS data have not been corrected for drift, so
these are &#8216;raw&#8217; winds, which will normally be corrected
later as part of the interactive renavigation processing. 
Once errors have been evaluated for the three INS velocity
components, they can be applied directly to the three wind
components; the wind components do not need to be recomputed 
from scratch.  To show that the winds are &#8216;raw&#8217; all values
of U, V and W are increased by 1000 m/s by this routine.  
This makes it easy to see that normal (flagged 0 or 1) data
are &#8216;raw&#8217;, but it may not be enough to say unabiguously 
whether data that are already bad (flagged 2 or 3) are &#8216;raw&#8217;
or &#8216;corrected&#8217;.</p>
<p>The processing will handle the case that the INS is mounted
off the boom axis, provided its position is specified in
the flight constants file, using the INSPOSN keyword.  If
the INS position is not specified then it is assumed to be
in the nose bay, 7.06m behind the vanes, but on the axis of
the boom.  All data is assumed to be at 32 Hz.</p>
<p>This routine will not be called if there is no True
Airspeed, or no INS information (with the exception of roll
rate).  If there is no information from the angle of attack
and sideslip vanes, winds will be computed using values of
zero for these angles flagged with
1&#8217;s.  If there is no roll rate available (this wasn&#8217;t
recorded for the Ferranti 1012 INS), a value of 0 is used. 
This doesn&#8217;t matter if the INS is located on the boom axis,
since in this case roll rate has no effect on winds.</p>
<p>The output vertical wind takes the worst flag present on the
AOA, VZ, TAS and pitch data.  The output horizontal wind
components take the worst flag present on the AOSS, VN, VE,
TAS, and heading data.  This is suitable when the
aircraft is not banking and reflects the fact that good
horizontal winds can be found even when the vertical
velocity is bad.  However this flagging scheme fails to 
reflect coupling between the vertical and horizontal
measurement when the aircraft is banking.
In addition horizontal wind components greater
than 100 m/s and vertical components greater than 25 m/s
are flagged with 2&#8217;s, and if the change between adjacent
samples (at 32 Hz) is greater than 1 m/s a flag of 2 is
also applied.</p>
<p>Input parameters (all at 32 Hz except 515):</p>
<p>Para 515   Time, secs
Para 779   Turb.probe dry true airspeed, m s-1
Para 548   Angle of attack, deg
Para 549   Angle of side slip, deg
Para 558   INS velocity north, m s-1
Para 559   INS velocity east, m s-1
Para 557   INS vertical velocity, m s-1
Para 560   INS roll, deg
Para 561   INS pitch, deg
Para 562   INS heading, deg
Para 567   INS roll rate, deg s-1 (optional)
Para 565   INS pitch rate, deg s-1
Para 566   INS yaw rate, deg s-1</p>
<p>Constants:</p>
<p>RCONST(1)  Distance of vanes ahead of INS, m (optional)
RCONST(2)  Distance of vanes to port of INS, m (optional)
RCONST(3)  Distance of vanes above INS, m (optional)</p>
<p>Output parameters (all at 32 Hz):</p>
<p class="last">Para 714   Northward wind component + 1000, m s-1
Para 715   Eastward wind component + 1000, m s-1
Para 716   Vertical wind component + 1000, m s-1</p>
</dd>
</dl>
<p>VERSION          1.00  10-5-93  W.D.N.JACKSON</p>
<dl class="docutils">
<dt>ARGUMENTS        IRAW(64,512) I*4 IN  Up to 64 samples for up to 512 DRS pars</dt>
<dd><p class="first">IFRQ(512)    I*4 IN  Sample rate of each DRS par (0-64)
RCONST(64)   R*4 IN  Inputs constants
RDER(64,1024)R*4 OUT Output array of up to 64 samples for</p>
<blockquote class="last">
<div>each of 1024 parameters</div></blockquote>
</dd>
<dt>CHANGES          1.01  20-04-98 W.D.N.JACKSON</dt>
<dd>Error in computation of airspeed corrected. 
1.02  14-06-2004 Phil Brown
AoA and AoSS now compulsory input parameters to ensure
this routine gets called after C_TURB
1.03  09/07/04 Phil Brown
Input TAS parameter is now 779 (Turb.probe dry TAS)
1.04  25/08/04 Phil Brown
Temporary. Suspend rate-of-change checking on winds.
1.05  29/11/04 Phil Brown
Temporary. Check flagging of RU,RV,RW when returned to try
to suppress FLTINV errors.
1.06  05/09/07 Dave Tiddeman
Will use GIN inputs if available rather than INU</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_heiman">
<span id="p-heiman-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_heiman</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_heiman" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_heiman.heiman">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_heiman.</tt><tt class="descname">heiman</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_heiman.heiman" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<blockquote>
<div><p>ROUTINE          C_HEIMAN   SUBROUTINE FORTVAX</p>
<p>PURPOSE          To derive uncorrected Heimann temperatures</p>
<dl class="docutils">
<dt>DESCRIPTION      Converts rawdata input from the Heimann radiometer and</dt>
<dd><p class="first">black body source into uncorrected surface tempratures,
parameter 537.</p>
<p class="last">The Heimmann is recorded by para 141, 
the blackbody reference temperature by para 142,
and bit 0 of the signal register (para 27) indicates whether
the Heimann is set to calibrate.</p>
</dd>
<dt>ARGUMENTS        IRAW   input raw data</dt>
<dd>IFRQ   raw data frequencies
RCONST flight constants corresponding to PRTCCAL and HEIMCAL
RDER   output data</dd>
</dl>
<p>SUBPROGRAMS</p>
<p>REFERENCES</p>
<p>VERSION          1.00 D.R.Lauchlan</p>
<p>CHANGES          
DESCRIPTION      Converts the two input parameters 141 (raw Heimann) and</p>
<blockquote>
<div><p>142 (black body reference temperature) into one, the
uncorrected HEIMAN temp (para 537).</p>
<p>The Heimann Radiometer data is converted using a quadratic
fit :
Surface temp =  RCONST(4) + RCONST(5)*x + RCONST(6)*x**2
RCONST(4 to 6) correspond to the constants with the keyword
HEIMCAL in the flight constants file.</p>
<p>The black body signal (para 142) is converted using
a quadratic fit :</p>
<blockquote>
<div>BB = a + b*x + c*x**2</div></blockquote>
<p>where constants a, b and c correspond to RCONST(1 to 3)
from the keyword PRTCCAL in the flight constant file.</p>
<p>Signal Register (para 27) bit 0 indicates the position of 
the black body;  0 = b/b out of FoV, 1 = b/b in FoV.</p>
<p>If signal register bit 0 is set to 1 and black body
reference temprature has been steady for the previous
3 seconds (mean of each second differs by no more than
0.1K), the b/b reference temperature is output.
Otherwise the HEIMAN temprature is output. An offset
is assigned accordingly:</p>
<blockquote>
<div><blockquote>
<div><dl class="docutils">
<dt>para 27 </dt>
<dd>bit 0</dd>
</dl>
</div></blockquote>
<p>233.26 to  313.06   Heimann-    0    (o/s = 0)</p>
</div></blockquote>
<p>1233.26 to 1313.06   Ref/BB -    0    (o/s = 1000)
2233.26 to 2313.06   Heimann-    1    (o/s = 2000)
3233.26 to 3313.06   Ref/BB -    1    (o/s = 2000 + 1000)</p>
<dl class="docutils">
<dt>(NOTE: an offset of 1000 is never assigned under </dt>
<dd>this scheme)</dd>
</dl>
<p>Heimann data is output for the time that the
reference temperature is output. This is done in
4 second bursts imediately after the reference 
sequence and overwrites the ramping sections.
Non reference or dwelling calibration temeratures
are flagged as 2.
Dwell Heimann data is output for the corresponding
calibration reference period after the instrument has 
switched back to measure, ie para 27 bit 0 becomes 0.</p>
<p>Bits 16 and 17 of the output temperature RDER(x,537) are
used to flag certain data conditions as follows :</p>
<blockquote>
<div><dl class="docutils">
<dt>Bits 16 and 17 = 00  - Good data, MEASURE/HEIMANN</dt>
<dd><dl class="first last docutils">
<dt>= 01  - Good data, but Heimann on CALIBRATE</dt>
<dd>and outputing DWELL temp
or looking at the Black Body temps
or BB moved out of field of view
and data are last Heimann dwell
data.</dd>
<dt>= 02  - Suspect or absent signal register </dt>
<dd>data, non-reference calibration
temperatures and non-dwelling
calibration temperatures.</dd>
<dt>= 03  - Absent data, passed through from</dt>
<dd>IRAW(x,141)</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</div></blockquote>
<dl class="docutils">
<dt>ARGUMENTS        IRAW(f,141)   Raw Heimann data</dt>
<dd>IRAW(f,27)    Raw signal register data 
IRAW(f,142)   Raw black body data
IFRQ(141)     Recorded frequency of Heimann Radiometer    
IFRQ(27)      Recorded frequency of signal register  
IFRQ(142)     Recorded frequency of black body
RCONST(1-6)   Constants for quadratic fit
RDER(f,537)   Uncorrected Heimann temps (deg K)</dd>
<dt>SUBPROGRAMS      ITSTFLG  -  Returns the value of bits 16 &amp; 17    - SCILIB</dt>
<dd><blockquote class="first">
<div>ISETFLG  -  Sets the value of bits 16 &amp; 17       - SCILIB
IBITS    -  Extracts selected bits from input    - FORTRAN
BTEST    -  Tests value of selected single bit   - FORTRAN</div></blockquote>
<dl class="last docutils">
<dt>C_HEIMAN_LTST_BB  -  Checks array elemenets are within</dt>
<dd>+/- 86                                - LOCAL</dd>
</dl>
</dd>
</dl>
<p>REFERENCES</p>
<dl class="docutils">
<dt>VERSION          1.00   09-11-94 D.R.Lauchlan</dt>
<dd>Based on C_BARNES V2.00 by D.P. Briggs</dd>
<dt>CHANGES          V1.01  10/02/99  W.D.N.JACKSON</dt>
<dd><p class="first">Bug in flag checking of raw data fixed.</p>
<p>V1.02  27/09/02  W.D.N.JACKSON
Changed to include handling of 16 bit data from the new 
DRS.  Also now expects calibrator temp cal to be in deg C.</p>
<p class="last">V1.03 11/11/04 J.P. TAYLOR
Changed to account for 16bit representation of DRS
parameters.  Allowable range of BB ref means changed from
+/- 6 to +/- 86 this is equivalent to 0.1K with the new
DRS 16bit data stream.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_lwc">
<span id="p-lwc-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_lwc</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_lwc" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_lwc.lwc">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_lwc.</tt><tt class="descname">lwc</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_lwc.lwc" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_LWC</p>
<blockquote>
<div><p>ROUTINE            C_LWC   SUBROUTINE FORT VAX   [C_LWC.FOR]</p>
<p>PURPOSE            To calibrate DRS parm 42 to tardis parm 535 (LWC)</p>
<dl class="docutils">
<dt>DESCRIPTION        The Liquid Water Content (LWC) is a four hertz </dt>
<dd>parameter. It requires the True Air Speed (Parm 517), 
True De_iced Temperature (parm 520) and Static 
Pressure (parm 576). All these derived parameters 
(517, 520, 576) are at 32 Hertz. So for each quarter 
point of the LWC requires a sample of eight of 
the derived paramters to be averaged. This is done using
only good data points. If there are not eight samples but
more than one then the flag for the derived LWC is set to 1.
If the frequency of the DRS parm (42) is not equal to 4
then no values are calculated and all four points of the
LWC are set to -9999.0, with a flag of 3. If a point cannot
be calculated then the value of it is set to -9999.0 with
a flag value of 3. If the instrument is saturated then the
flag value is 1. If the derived value for the LWC falls out
of the bounds of -10 to 10 then the flag is set to 2.</dd>
</dl>
<p>VERSION            1.02 17-01-96 D Lauchlan</p>
<dl class="docutils">
<dt>ARGUMENTS         IRAW(64,512) I*4  IN   Raw data for the parameters</dt>
<dd>IFRQ(512)    I*4  IN   Frequencies of the data
RCONST(64)   R*4  IN   Constants required by routine,(1-28)
RDER(64,1024)R*4  OUT  Tardis parameters</dd>
</dl>
<p>COMMON     None.</p>
<p>SUBPROGRAMS        ISETFLG (linked automatically)</p>
<p>FILES              None.</p>
<dl class="docutils">
<dt>REFERENCES         MRF2 Specification for Total Water Hygrometer 4 Dec 1989</dt>
<dd><blockquote class="first">
<div>Ouldridge Feb 1982</div></blockquote>
<p class="last">Johnson 1979</p>
</dd>
<dt>CHANGES           110190 Documentational changes only         M.Glover  </dt>
<dd><p class="first">v 1.02 17-01-96 D Lauchlan
Unused parameters removed</p>
<p class="last">V1.03  27/09/02  W.D.N.JACKSON
Changed to include handling of 16 bit data from the new 
DRS.</p>
</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>DEC$ IDENT &#8216;V1.03&#8217;</dt>
<dd><p class="first">The frequencies of the derived parameters passed into this module
may change. That is why IFRQ_*** has been set up. Here is a table of
what values of it corresponds to what frequency;</p>
<blockquote>
<div><dl class="docutils">
<dt>Frq     IFRQ_***</dt>
<dd>4         0</dd>
</dl>
<p>16         1
32         7
64        15</p>
</div></blockquote>
<p>Calibrate the Johnson_Williams Liquid Water Content Probe - DRS 
parameter 42, sample rate 4 Hz. This is to be put into g kg-1.
This uses the elements of RCONST from 1 to 2.</p>
<blockquote class="last">
<div><blockquote>
<div><p>See if all the const are there,if not set the flag to 3
Find the average of the TAS.
Reset the starter for the do loop to be the old start 
point plus the incremental for the TAS frequency plus 
one.</p>
<blockquote>
<div>No good points.</div></blockquote>
<p>Find the average of the true de_iced temp.
Find the static pressure average.</p>
<blockquote>
<div>Only use good data, namley of flag zero.</div></blockquote>
<p>Make sure that division by one does not happen. 
ICHECK will be more than one if any of the constants 
are missing, or the true air speed is zero, or rho
is zero. 
ICHECK_2 will be diffrent than 1 if there are not eight
samples for the true de-iced temp or pressure.
If the flag of the raw data is less than three, then 
convert the raw data into derived data. This is done 
using ;</p>
<blockquote>
<div><dl class="docutils">
<dt>LWC=  (A+Bx)*77.2</dt>
<dd><blockquote class="first last">
<div>TAS*RHO</div></blockquote>
</dd>
<dt>RHO=0.3484*STATIC_PRESSURE</dt>
<dd><blockquote class="first last">
<div>TRUE_DE_ICED_TEMP</div></blockquote>
</dd>
</dl>
<p>If the flag is three or above, set the 
derived data to -9999.0.</p>
</div></blockquote>
<p>If the derived data is outside the bounds but not 
-9999.0, then set the flag to two.
If J/W &gt; 300/TAS  set J/W FLAG=1
300/tas = instrument saturation value.
Ref Ouldridge Feb 1982, Johnson 1979</p>
<blockquote>
<div>The derived data is within the limits then 
set the flag to that of the raw data. If the 
data is -9999.0 the flag will be three.</div></blockquote>
</div></blockquote>
<p>The data has not got the right frequency.</p>
</div></blockquote>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_nephl1">
<span id="p-nephl1-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_nephl1</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_nephl1" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_nephl1.nephl1">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_nephl1.</tt><tt class="descname">nephl1</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_nephl1.nephl1" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<blockquote>
<div><blockquote>
<div><p>ROUTINE      C_NEPHL1</p>
<dl class="docutils">
<dt>PURPOSE      Calibrates the parameters from the TSI 3 wavelength</dt>
<dd>Nephelometer.</dd>
<dt>DESCRIPTION  The nephelometer output are subject to calibrations</dt>
<dd><p class="first">internal to the instrument plus the normal MILLIE/DRS
calibrations.</p>
<p>All raw parameters are digital conversions of the input
voltage. The digital values are converted using a
linear fit then the nephelometer internal cals are
applied to obtain the output derived values.
Parameters 175, 176 &amp; 183 are linear thus</p>
<blockquote>
<div>output = a + b * v /vfs</div></blockquote>
<p>where a and b are nephelometer internal constants,
v the derived voltage and vfs the full scale voltage.
Scattering parameters 177 through 182 are logarithmic
so</p>
<blockquote>
<div>output = 10**((v/b) - a) - c</div></blockquote>
<p>a, b and c are nephelometer internal constants, v
the derived voltage.</p>
<p class="last">Parameter 184, nephelometer status, is the analog output
of a 4 bit D to A converter. The LSB corresponds to 
0.625V.</p>
</dd>
</dl>
<p>VERSION      1.00  D.P.Briggs</p>
<p>SUBROUTINES  ISETFLG</p>
<p>FILES        NONE</p>
<dl class="docutils">
<dt>REFERENCES   Nephelometer Instruction Manual</dt>
<dd>Nephelometer internal technical note</dd>
</dl>
<p>PARAMETERS   RAW      DERIVED    FREQ   RANGE   UNITS</p>
</div></blockquote>
<p>NEPH PRESSURE       175        760      1Hz    0-10V    mb
NEPH TEMPERTURE     176        761      1Hz    0-10V    K
NEPH BLUE SP        177        762      1Hz    0-10V    /m
NEPH GREEN SP       178        763      1HZ    0-10V    /m
NEPH RED SP         179        764      1Hz    0-10V    /m
NEPH BLUE BSP       180        765      1Hz    0-10V    /m
NEPH GREEN BSP      182        766      1Hz    0-10V    /m
NEPH RED BSP        181        767      1Hz    0-10V    /m
NEPH HUMIDITY       183        768      1Hz    0-5V     %
NEPH STATUS         184        769      1Hz    0-10V    bits</p>
<blockquote>
<div><blockquote>
<div>NEPHELOMETER CONSTANT KEYWORDS</div></blockquote>
<p>CALNPRS  I J A B      
CALNTMP  I J A B
CALNBTS  I J A B C    NOTE : I &amp; J are multiplexer calibrations.
CALNGTS  I J A B C           A, B &amp; C are instrument internal cals.
CALNRTS  I J A B C
CALNBBS  I J A B C
CALNGBS  I J A B C
CALNRBS  I J A B C
CALNHUM  I J A B
CALNSTS  I J</p>
<blockquote>
<div><p>CHANGES 
V1.01  12/05/97  W.D.N.JACKSON</p>
<blockquote>
<div>Miscellaneous bug fixes, the most serious being the incorrect
calculation of the red backscattering coefficient, and a
tendency to crash with floating overflows.</div></blockquote>
<dl class="docutils">
<dt>V1.02  29/05/97  W.D.N.JACKSON</dt>
<dd>Changed to reflect fact that Red BS comes in on 181 and green
on para 182.</dd>
<dt>V1.03  19/06/98  W.D.N.JACKSON</dt>
<dd>Changed to reflect fact that bit 3 of the status word is 0
(not 1) when on calibrate.</dd>
<dt>V1.04  01/09/02  W.D.N.JACKSON</dt>
<dd>Small changes to handle new 16 bit DRS.  Also status parameter
is now calibrated.</dd>
</dl>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_nevz">
<span id="p-nevz-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_nevz</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_nevz" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_nevz.nevz">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_nevz.</tt><tt class="descname">nevz</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_nevz.nevz" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_NEVZ</p>
<blockquote>
<div><p>ROUTINE          C_NEVZ SUBROUTINE FORTVAX</p>
<p>PURPOSE          Produces calibrated Nevzorov parameters</p>
<dl class="docutils">
<dt>DESCRIPTION      Calculates liquid and total water values for the Nevzorov</dt>
<dd><p class="first">together with reference and collector voltages, using the
equations supplied with the unit, namely:</p>
<p>Water content = V**2/U/L/SR</p>
<dl class="docutils">
<dt>where V is the output voltage (V)</dt>
<dd><p class="first">U is the True air speed (m/s)
L is the energy expended in heating and evaporating</p>
<blockquote>
<div>the water, for which a value of 2589 J/g is used</div></blockquote>
<dl class="last docutils">
<dt>SR is the product of the sensor area and the resistanc</dt>
<dd>of the collector sensor at the chosen temperature.</dd>
</dl>
</dd>
</dl>
<p>Flagging:</p>
<p class="last">If on Calibrate, as indicated by bit 1 or 2 in the signal
register being set then the data is flagged with a 2.
Otherwise the data carries the flag of the True Airspeed
parameter.</p>
</dd>
</dl>
<p>VERSION          1.00  18/01/99  W.D.N.JACKSON</p>
<dl class="docutils">
<dt>ARGUMENTS     </dt>
<dd><p class="first">Constants:
RCONST(1)   CALNVLW X0
RCONST(2)   CALNVLW X1
RCONST(3)   CALNVLR X0
RCONST(4)   CALNVLR X1
RCONST(5)   CALNVLC X0
RCONST(6)   CALNVLC X1
RCONST(7)   CALNVTW X0
RCONST(8)   CALNVTW X1
RCONST(9)   CALNVTR X0
RCONST(10)  CALNVTR X1
RCONST(11)  CALNVTC X0
RCONST(12)  CALNVTC X1
RCONST(13)  CALRSL X0     RS Value at T0
RCONST(14)  CALRSL T0
RCONST(15)  CALRST X0     RS value at T0
RCONST(16)  CALRST T0</p>
<p>Inputs: 
NVLW Nevzorov Liquid Water                   Para 208  8 Hz
NVLR Nevzorov Liquid Reference               Para 209  8 Hz
NVLC Nevzorov Liquid Collector               Para 210  8 Hz
NVTW Nevzorov Total Water                    Para 211  8 Hz
NVTR Nevzorov Total Reference                Para 212  8 Hz
NVTC Nevzorov Total Collector                Para 213  8 Hz
SREG Signal register [bits 1-2]              Para  27  2 Hz
TAS  True airspeed                           Para 517 32 Hz</p>
<p class="last">Outputs: 
NVLW Nevzorov Liquid Water     [gm-3]         Para 602 8 Hz
NVLR Nevzorov Liquid Reference [V]            Para 603 8 Hz
NVLC Nevzorov Liquid Collector [V]            Para 604 8 Hz
NVTW Nevzorov Total Water      [gm-3]         Para 605 8 Hz
NVTR Nevzorov Total Reference  [V]            Para 606 8 Hz
NVTC Nevzorov Total Collector  [V]            Para 607 8 Hz</p>
</dd>
<dt>SUBPROGRAMS      ITSTFLG          Examines bits 16,17 for flags</dt>
<dd>ISETFLG          Sets flag bits 16,17 = 0 &#8211;&gt; 3</dd>
</dl>
<p>REFERENCES</p>
<dl class="docutils">
<dt>CHANGES           V1.01  27/09/02  W.D.N.JACKSON</dt>
<dd>Changed to include handling of 16 bit data from the new 
DRS.
V1.02  13/11/06
Signal register bits 1 and 2 swapped to be the correct way
round 1=TW, 2=LW
V1.03  12/12/06
Voltage flags explicitly set to zero</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_nox">
<span id="p-nox-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_nox</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_nox" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_nox.nox">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_nox.</tt><tt class="descname">nox</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_nox.nox" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_NOX</p>
<blockquote>
<div><p>ROUTINE        C_NOX SUBROUTINE FORTVAX</p>
<dl class="docutils">
<dt>PURPOSE        A subroutine to calculate Nitrogen monoxide, Nitrogen dioxide</dt>
<dd>and NOx measured by the TECO 42 NOx analyser.</dd>
<dt>DESCRIPTION    The NOx analyser outputs three measurements, NO, NO2 and NOx.</dt>
<dd>These are input to the program as DRS bits, and converted
into PPB by multiplying the DRS bits by a calibration factor.</dd>
</dl>
<p>TO COMPILE     $FORT C_NOX</p>
<dl class="docutils">
<dt>VERSION        1.00  28 Sept. 1998     I. Hawke</dt>
<dd><p class="first">1.01  23 June. 1999     I. Hawke     5ppb Offset included
1.02  07 Mar   2000     I. Hawke     Offset removed
1.03  07 Mar   2000     I. Hawke     5ppb offset included
1.04  29 Mar   2000     I. Hawke     New Conversion Algorithm
1.05  30 Mar   2000     I. Hawke     Flow Testing Added
1.06  02 Oct   2002     N. Jackson   Modified for 16 bit DRS
1.07  27 Oct   2005     D.Tiddeman   New constants for flagging</p>
<blockquote>
<div>low airspeeds or out of
range values.</div></blockquote>
<p class="last">1.08  05 Dec  2005      D.Tiddeman   No flag 2 for negative</p>
</dd>
<dt>ARGUMENTS      IRAW(1,203) - on entry contains the raw NO signal</dt>
<dd><blockquote class="first">
<div>IRAW(1,204) - on entry contains the raw NO2 signal
IRAW(1,205) - on entry contains the raw NOx signal</div></blockquote>
<p>IRAW(1,114) - on entry contains ozone flow signal
RCONST(1,2,3,4) XO and X1 voltage cal for NO, v to ppb, ppb offs
RCONST(5,6,7,8) same for NO2
RCONST(9,10,11,12) same for NOx
RCONST(13,14) X0 and X1 voltage cal for Ozone flow</p>
<blockquote class="last">
<div>RDER(1,770) - on exit contains the derived NO signal
RDER(1,771) - on exit contains the derived NO2 signal
RDER(1,772) - on exit contains the derived NOx signal</div></blockquote>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_ozone1">
<span id="p-ozone1-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_ozone1</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_ozone1" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_ozone1.ozone1">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_ozone1.</tt><tt class="descname">ozone1</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_ozone1.ozone1" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_OZONE1</p>
<blockquote>
<div><p>ROUTINE        C_OZONE1 SUBROUTINE FORTVAX</p>
<p>PURPOSE        A subroutine to calculate the ozone mixing ratio.</p>
<dl class="docutils">
<dt>DESCRIPTION   Calibration routine for TECO OZONE</dt>
<dd>Fourth order fit for temperature transducer
Linear fit for pressure transducer
Signal 10V =1000 ppb ozone corrected by pressure and temperature</dd>
</dl>
<p>TO COMPILE     $FORT C_OZONE1</p>
<dl class="docutils">
<dt>VERSION            1.00  30th Aug 1996  D.Tiddeman   Module Written</dt>
<dd><p class="first">1.01  12th Sep 1999  I. Hawke     O3 Smoothing Algorithm
1.02  2 Oct 2002     N. Jackson   Convert to work on new DRS
1.03  11 Feb 2005   D.Tiddeman   No longer does P+T correction</p>
<blockquote>
<div>1.04  Unknown       D.Tiddeman   RVSM, min and max flags addeds</div></blockquote>
<dl class="last docutils">
<dt>1.05  31 Jan 2007   R Purvis     Rewritten to take out P, T</dt>
<dd><dl class="first last docutils">
<dt>corrections</dt>
<dd>Flow commented out</dd>
</dl>
</dd>
</dl>
</dd>
<dt>ARGUMENTS      IRAW(1,100) - on entry contains the raw ozone signal</dt>
<dd>IRAW(1,114) - on entry contains the raw ozone flow
IRAW(1,223) - on entry contains the raw rvsm airspeed
RCONST(X)  
RDER(1,574) - on exit contains the derived ozone mixing ratio</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_press1">
<span id="p-press1-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_press1</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_press1" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_press1.press1">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_press1.</tt><tt class="descname">press1</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_press1.press1" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_PRESS1</p>
<blockquote>
<div><p>ROUTINE          C_PRESS1 SUBROUTINE FORTVAX</p>
<p>PURPOSE          Calibrates the cabin pressure sensor and the S9 static port.</p>
<dl class="docutils">
<dt>DESCRIPTION      Apply calibration the combined transducer and DRS </dt>
<dd>coefficients to DRS parameters 14 and 221 to obtain derived
parameters 579 and 778.  Invalid data is flagged with 3, data
outside limits is flagged with 2.</dd>
<dt>METHOD           For each DRS parameter to be calibrated:</dt>
<dd><ol class="first arabic">
<li><p class="first">If data is FFFF or FFFE then flag 3</p>
</li>
<li><p class="first">Apply the calibration constants</p>
</li>
<li><p class="first">Check the results for being within acceptable values.</p>
</li>
<li><dl class="first docutils">
<dt>Set data flag bits (16+17) 0: Good data</dt>
<dd><p class="first last">1: Data of lower quality
2: Probably faulty, exceed lims
3: Data absent or invalid.</p>
</dd>
</dl>
</li>
</ol>
<p class="last">Flagging - If a value can&#8217;t be computed, due to missing data
missing constants, divide be zeroes, etc, a value of 0 is
used, flagged with a three.  If a value is outside its 
limits for range or rate of change, it is flagged with a two.
If there are no problems with the data it is flagged with 0.</p>
</dd>
</dl>
<p>VERSION          1.00  23/07/03  W.D.N.JACKSON</p>
<dl class="docutils">
<dt>ARGUMENTS        Inputs:</dt>
<dd><blockquote class="first">
<div><dl class="docutils">
<dt>DRS para  14 CABP  1 Hz Cabin pressure              </dt>
<dd>para 221 S9SP 32 Hz S9 static pressure</dd>
</dl>
</div></blockquote>
<dl class="last docutils">
<dt>Constants:</dt>
<dd>RCONST(1 to 3) Para 14 cal constants X0 to X2
RCONST(4 to 6) Para 221 cal constants X0 to X2</dd>
<dt>Outputs:</dt>
<dd><dl class="first last docutils">
<dt>Derived para 579 CABP mb  1 Hz Cabin pressure </dt>
<dd>para 778 S9SP mb 32 Hz S9 static pressure</dd>
</dl>
</dd>
<dt>Flags:</dt>
<dd>Missing/corrupt data output as 0 flagged 3.
Out of range data flagged 2.</dd>
</dl>
</dd>
</dl>
<p>SUBPROGRAMS      ISETFLG</p>
<p>REFERENCES</p>
<dl class="docutils">
<dt>CHANGES          V1.00 23/07/03  WDNJ Original version</dt>
<dd>Note that V1.00 has no application of S9 position errors.</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_psap">
<span id="p-psap-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_psap</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_psap" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_psap.psap">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_psap.</tt><tt class="descname">psap</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_psap.psap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<blockquote>
<div><blockquote>
<div><p>ROUTINE      C_PSAP</p>
<dl class="docutils">
<dt>PURPOSE      Calibrates the parameters from the Particle Soot</dt>
<dd>Absorbtion Photometer (PSAP).</dd>
<dt>DESCRIPTION  All raw parameters are digital conversions of the input</dt>
<dd><p class="first">voltage. The digital values are converted using a
linear fit then the instrument cals are
applied to obtain the output derived values.
Parameter 175 is linear thus</p>
<blockquote>
<div>output = v * 0.5E-5</div></blockquote>
<p>v the derived voltage and vfs the full scale voltage.
Parameter 177 is logrithmic so</p>
<blockquote class="last">
<div>ouput = 10**((v/2.0) - 7.0)</div></blockquote>
</dd>
</dl>
<p>VERSION      1.00  D.P.Briggs</p>
<p>SUBROUTINES  ISETFLG</p>
<p>FILES        NONE</p>
<p>PARAMETERS   RAW      DERIVED    FREQ   RANGE   UNITS</p>
</div></blockquote>
<p>PSAP LIN ABS COEFF  185        648      1Hz    0-10V    /m
PSAP LOG ABS COEFF  186        649      1Hz    0-10V    /m
PSAP TRANSMITTANCE  187                 1Hz    0-10V
PSAP FLOW RATE      188                 1Hz    0-10V</p>
<blockquote>
<div>PSAP CONSTANT KEYWORDS</div></blockquote>
<p>CALPLIN   i j    NOTE : i &amp; j are multiplexer calibrations.
CALPLOG   i j</p>
<blockquote>
<div><p>CHANGES</p>
<p>V1.01  01/10/02  W.D.N.JACKSON
Adjusted for 16 bit data from the new DRS</p>
</div></blockquote>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_radal1">
<span id="p-radal1-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_radal1</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_radal1" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_radal1.radal1">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_radal1.</tt><tt class="descname">radal1</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_radal1.radal1" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_RADAL1</p>
<blockquote>
<div><p>ROUTINE        C_RADAL1 SUBROUTINE FORTVAX</p>
<dl class="docutils">
<dt>PURPOSE        To subroutine to calculate the aircraft altitude from the radar</dt>
<dd>altimeter.</dd>
<dt>DESCRIPTION    The raw radar altimeter data is provided as a 16 bit signed</dt>
<dd><p class="first">number from the ARINC 429 data bus, with a least bit resolution
of 0.25 ft.</p>
<blockquote class="last">
<div>The derived data is quality controlled to ensure that:
(a) data outside the range 0 to 8191.75 ft are flagged 3
(b) more than two values the same are flagged 3
(c) more than 1000&#8217; change between values is flagged 3</div></blockquote>
</dd>
</dl>
<p>TO COMPILE     $FORT C_RADAL1</p>
<p>VERSION        1.00  02/10/02  W.D.N.JACKSON</p>
<dl class="docutils">
<dt>ARGUMENTS      IRAW(X,37)  - where x=1 or 2, on entry this contains the raw </dt>
<dd><blockquote class="first">
<div>radar height.</div></blockquote>
<dl class="last docutils">
<dt>IFRQ(37)    - on entry contains 2, the frequency of the raw </dt>
<dd>radar height.</dd>
<dt>RDER(X,575) - where x= 1 or 2, on exit contains the derived </dt>
<dd>radar height in meters.</dd>
</dl>
</dd>
<dt>CHANGES        V1.01  WDNJ  05/11/04</dt>
<dd>Flagging criteria improved</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_read_horace_gin">
<span id="p-read-horace-gin-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_read_horace_gin</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_read_horace_gin" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_read_horace_gin.read_horace_gin">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_read_horace_gin.</tt><tt class="descname">read_horace_gin</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_read_horace_gin.read_horace_gin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.file_read" title="ppodd.core.file_read"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.file_read</span></tt></a></p>
<p>Routine for reading in HORACE_GIN data</p>
<dl class="method">
<dt id="ppodd.pod.p_read_horace_gin.read_horace_gin.fixfilename">
<tt class="descname">fixfilename</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_read_horace_gin.read_horace_gin.fixfilename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ppodd.pod.p_read_horace_gin.read_horace_gin.readfile">
<tt class="descname">readfile</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_read_horace_gin.read_horace_gin.readfile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_readconst">
<span id="p-readconst-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_readconst</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_readconst" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_readconst.readconst">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_readconst.</tt><tt class="descname">readconst</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readconst.readconst" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.file_read" title="ppodd.core.file_read"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.file_read</span></tt></a></p>
<p>Routine for reading in CONST data</p>
<dl class="method">
<dt id="ppodd.pod.p_readconst.readconst.readfile">
<tt class="descname">readfile</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readconst.readconst.readfile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_readcrio">
<span id="p-readcrio-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_readcrio</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_readcrio" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ppodd.pod.p_readcrio.ginday">
<tt class="descclassname">ppodd.pod.p_readcrio.</tt><tt class="descname">ginday</tt><big>(</big><em>fromdate</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readcrio.ginday" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ppodd.pod.p_readcrio.gintime">
<tt class="descclassname">ppodd.pod.p_readcrio.</tt><tt class="descname">gintime</tt><big>(</big><em>time1</em>, <em>time2</em>, <em>date</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readcrio.gintime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="ppodd.pod.p_readcrio.readcrio">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_readcrio.</tt><tt class="descname">readcrio</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readcrio.readcrio" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.file_read" title="ppodd.core.file_read"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.file_read</span></tt></a></p>
<p>Routine for reading in CRIO data</p>
<dl class="method">
<dt id="ppodd.pod.p_readcrio.readcrio.fixfilename">
<tt class="descname">fixfilename</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readcrio.readcrio.fixfilename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ppodd.pod.p_readcrio.readcrio.readfile">
<tt class="descname">readfile</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readcrio.readcrio.readfile" title="Permalink to this definition">¶</a></dt>
<dd><p>require 2 parts the definition and the data
may have several data files that need combining 
Assume they are all in one folder.
Assume the name given is just
folder/type
eg.
decades_data/Bxxx/AERACK01
so any thing in folder/<em>type</em> is data
and             folder/type_TCP*.csv is definition</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_readfolder">
<span id="p-readfolder-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_readfolder</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_readfolder" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_readfolder.readfolder">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_readfolder.</tt><tt class="descname">readfolder</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readfolder.readfolder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.file_read" title="ppodd.core.file_read"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.file_read</span></tt></a></p>
<p>Reads all cRIO data in one folder</p>
<dl class="method">
<dt id="ppodd.pod.p_readfolder.readfolder.add_file">
<tt class="descname">add_file</tt><big>(</big><em>filename</em>, <em>filetype</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readfolder.readfolder.add_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ppodd.pod.p_readfolder.readfolder.filetest">
<tt class="descname">filetest</tt><big>(</big><em>filen</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readfolder.readfolder.filetest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ppodd.pod.p_readfolder.readfolder.fixfilename">
<tt class="descname">fixfilename</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readfolder.readfolder.fixfilename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ppodd.pod.p_readfolder.readfolder.readfile">
<tt class="descname">readfile</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readfolder.readfolder.readfile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_readm3">
<span id="p-readm3-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_readm3</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_readm3" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_readm3.readm3">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_readm3.</tt><tt class="descname">readm3</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readm3.readm3" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.file_read" title="ppodd.core.file_read"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.file_read</span></tt></a></p>
<p>Routine for reading in M3 data</p>
<dl class="method">
<dt id="ppodd.pod.p_readm3.readm3.fixfilename">
<tt class="descname">fixfilename</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readm3.readm3.fixfilename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ppodd.pod.p_readm3.readm3.get_BCDtime">
<tt class="descname">get_BCDtime</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.p_readm3.readm3.get_BCDtime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ppodd.pod.p_readm3.readm3.get_time">
<tt class="descname">get_time</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.p_readm3.readm3.get_time" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ppodd.pod.p_readm3.readm3.get_timex">
<tt class="descname">get_timex</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.p_readm3.readm3.get_timex" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ppodd.pod.p_readm3.readm3.paradesc">
<tt class="descname">paradesc</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.p_readm3.readm3.paradesc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ppodd.pod.p_readm3.readm3.readfile">
<tt class="descname">readfile</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readm3.readm3.readfile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ppodd.pod.p_readm3.readm3.time_BCD">
<tt class="descname">time_BCD</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.p_readm3.readm3.time_BCD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_readnc">
<span id="p-readnc-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_readnc</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_readnc" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_readnc.readnc">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_readnc.</tt><tt class="descname">readnc</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readnc.readnc" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.file_read" title="ppodd.core.file_read"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.file_read</span></tt></a></p>
<p>Routine for reading in NETCDF data</p>
<dl class="method">
<dt id="ppodd.pod.p_readnc.readnc.readfile">
<tt class="descname">readfile</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readnc.readnc.readfile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_readwvssii">
<span id="p-readwvssii-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_readwvssii</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_readwvssii" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_readwvssii.readwvssii">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_readwvssii.</tt><tt class="descname">readwvssii</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readwvssii.readwvssii" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.file_read" title="ppodd.core.file_read"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.file_read</span></tt></a></p>
<p>Routine for reading in WVSSII data</p>
<dl class="method">
<dt id="ppodd.pod.p_readwvssii.readwvssii.fixfilename">
<tt class="descname">fixfilename</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readwvssii.readwvssii.fixfilename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ppodd.pod.p_readwvssii.readwvssii.readfile">
<tt class="descname">readfile</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readwvssii.readwvssii.readfile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_readzipped">
<span id="p-readzipped-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_readzipped</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_readzipped" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_readzipped.readzipped">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_readzipped.</tt><tt class="descname">readzipped</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readzipped.readzipped" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ppodd.pod.p_readfolder.readfolder" title="ppodd.pod.p_readfolder.readfolder"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.pod.p_readfolder.readfolder</span></tt></a></p>
<p>Unzip and read in raw data files</p>
<p>cRIO data or old M3 raw data zipped in a file is unzipped to 
a temporary file and read in</p>
<p>&#64;author: Dave Tiddeman</p>
<dl class="method">
<dt id="ppodd.pod.p_readzipped.readzipped.filetest">
<tt class="descname">filetest</tt><big>(</big><em>filen</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readzipped.readzipped.filetest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ppodd.pod.p_readzipped.readzipped.fixfilename">
<tt class="descname">fixfilename</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readzipped.readzipped.fixfilename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ppodd.pod.p_readzipped.readzipped.readfile">
<tt class="descname">readfile</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_readzipped.readzipped.readfile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_rio_airspd">
<span id="p-rio-airspd-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_rio_airspd</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_rio_airspd" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_rio_airspd.rio_airspd">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_rio_airspd.</tt><tt class="descname">rio_airspd</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_airspd.rio_airspd" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_AIRSPD</p>
<blockquote>
<div><p>ROUTINE          C_AIRSPD SUBROUTINE FORTVAX</p>
<p>PURPOSE          Derives Indicated and True Airspedd (paras 516 &amp; 517)</p>
<dl class="docutils">
<dt>DESCRIPTION      True Air Speed is the component of air flow parallel to</dt>
<dd><p class="first">the Aircraft&#8217;s longitudinal axis.</p>
<dl class="docutils">
<dt>IAS =  340.294 </dt>
<dd><ul class="first last simple">
<li>Mach no.</li>
<li>SQRT(Static Pressure[mb]/ 1013.25)      in ms-1</li>
</ul>
</dd>
<dt>TAS =  A/S correction factor </dt>
<dd><ul class="first last simple">
<li>340.294</li>
<li>Mach no.</li>
<li>SQRT(De-iced True Air Temp[K] / 288.15) in ms-1</li>
</ul>
</dd>
</dl>
<p>where:</p>
<blockquote>
<div>288.15   is ICAO Standard temperature [K] at zero altitude.
340.294  is speed of sound [ms-1]         at zero altitude.
Mach no. is computed by subroutine S_MACH.</div></blockquote>
<p class="last">Flagging - If a value can&#8217;t be computed, due to missing data
missing constants, divide be zeroes, etc, a value of 0 is
used, flagged with a three.  If a value is outside its 
limits for range or rate of change, it is flagged with a two.
If there are no problems with the data it is flagged with 0.
Any flags on input data are propagated through subsequent 
calculations.</p>
</dd>
</dl>
<p>VERSION          1.00  020190   A.D.HENNINGS</p>
<dl class="docutils">
<dt>ARGUMENTS        For Indicated Airspeed:</dt>
<dd><blockquote class="first">
<div><p>RDER(IN,576) REAL*4 IN  Derived static pressure in mb
RDER(IN,577) REAL*4 IN  Derived Pitot static pressure in mb</p>
<blockquote>
<div>(samples IN = 1,32 )</div></blockquote>
<dl class="docutils">
<dt>RDER(OP,516) REAL*4 OUT Derived Indicated Airspeed  ms-1</dt>
<dd>(samples OP = 1,32 )</dd>
</dl>
</div></blockquote>
<dl class="last docutils">
<dt>For True Airspeed:</dt>
<dd><p class="first">RCONST(1)    REAL*4 IN  True Airspeed correction factor  
RDER(IN,576) REAL*4 IN  Derived static pressure in mb
RDER(IN,577) REAL*4 IN  Derived Pitot static pressure in mb
RDER(IN,520) REAL*4 IN  Derived De-iced True air temp deg K</p>
<blockquote>
<div>(samples IN = 1,32 )</div></blockquote>
<dl class="last docutils">
<dt>RDER(IN,525) REAL*4 IN  Derived Non-Deiced True air temp deg K</dt>
<dd>(samples IN = 1,32 )</dd>
<dt>RDER(OP,517) REAL*4 OUT Derived True Airspeed  ms-1</dt>
<dd>(samples OP = 1,32 )</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<p>SUBPROGRAMS      S_MACH, S_QCPT, ITSTFLG, ISETFLG</p>
<dl class="docutils">
<dt>REFERENCES       Code adapted from MRF1/HORACE</dt>
<dd><dl class="first last docutils">
<dt>n.b. RCONST(1) (Air speed correction factor &#8216;K&#8217; should be</dt>
<dd>determined by &#8216;K &amp; Gamma&#8217; aircraft runs. The value
in RCONST(1) is unity. Experimental values have been
found between 0.98 and 1.02; (HORACE used 1.002 from 
June 1988 - Jan 1990., value suggested by S.Nicholls
after JASIN experiment).</dd>
</dl>
</dd>
<dt>CHANGES          V1.01  02/06/93  Limit on max rate of change between</dt>
<dd><p class="first">adjacent samples has been increased to 3.3 m/s.  This is
based on analysis of the high turbulence A257 flight, where
the histogram of rates of change showed meaningful changes
of up to 3.0 m/s between adjacent samples. (WDNJ)
Also changed so that data with flags of 2 are processed
rather than rejected and flags are stripped from data before
processing. (WDNJ)</p>
<p class="last">V1.02 20/06/06 If TAT_DI flag is 2 or more, then takes
temperature input from TAT_NDI (Phil Brown)</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_rio_geneas">
<span id="p-rio-geneas-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_rio_geneas</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_rio_geneas" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_rio_geneas.rio_geneas">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_rio_geneas.</tt><tt class="descname">rio_geneas</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_geneas.rio_geneas" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_GENEAS
DEC$ IDENT &#8216;V1.02&#8217;</p>
<blockquote>
<div><p>ROUTINE           C_GENEAS     SUBROUTINE FORTVAX</p>
<p>PURPOSE           Derivation of Dew point</p>
<p>DESCRIPTION      Calculation of Dew Point in K from General Eastern Hygrometer</p>
<blockquote>
<div><blockquote>
<div>529- Dew Point                             [K]</div></blockquote>
<p>The General Eastern Hygrometer (Parameter 58) is recorded 
in binary with a range of 0 to 4095 DRS bits.
A control signal (Parameter 59) is also recorded which 
gives an indication of the amount of heating or cooling
of the mirror.
The instrument should be in control if the signal is between
certain limits. 
Outside these limits it still produces a dew point 
reading,though of doubtful accuracy, and derived data 
is flagged - FLAG = 2.</p>
</div></blockquote>
<dl class="docutils">
<dt>VERSION           1.00  240190   J HARMER</dt>
<dd>1.01  17-01-96 D Lauchlan</dd>
<dt>ARGUMENTS </dt>
<dd><p class="first">Constants:
GEMAX      Maximum control condition signal limit RCONST(1)
GEMIN      Minimum control condition signal limit RCONST(2)
CALGE(1)   GE Dew point calib. constant x0        RCONST(3)
CALGE(2)   GE Dew point calib. constant x1        RCONST(4)
CALGE(3)   GE Dew point calib. constant x2        RCONST(5)</p>
<p>Inputs   : 
GENERAL EASTERN 1011 DEW POINT    [drs units ] Para 58
GENERAL EASTERN CONTROL SIGNAL    [drs units ] Para 59</p>
<p class="last">Outputs  : 
DEW POINT                            [K]      Para 529</p>
</dd>
<dt>SUBPROGRAMS</dt>
<dd>ITSTFLG          Examines bits 16,17 for flags
ISETFLG          Sets flag bits 16,17 = 0 &#8211;&gt; 3
S_QCPT           Performs range and rate of change check</dd>
</dl>
<p>REFERENCES        Code adapted from MRF1/MRF2</p>
<dl class="docutils">
<dt>CHANGES          v1.01 17-01-96 D Lauchlan</dt>
<dd><p class="first">Unused variables removed</p>
<p class="last">V1.02  27/09/02  W.D.N.JACKSON
Changed to include handling of 16 bit data from the new 
DRS.</p>
</dd>
</dl>
</div></blockquote>
<dl class="method">
<dt id="ppodd.pod.p_rio_geneas.rio_geneas.process">
<tt class="descname">process</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_geneas.rio_geneas.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_rio_heiman">
<span id="p-rio-heiman-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_rio_heiman</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_rio_heiman" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_rio_heiman.rio_heiman">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_rio_heiman.</tt><tt class="descname">rio_heiman</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_heiman.rio_heiman" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<blockquote>
<div><p>ROUTINE          C_HEIMAN   SUBROUTINE FORTVAX</p>
<p>PURPOSE          To derive uncorrected Heimann temperatures</p>
<dl class="docutils">
<dt>DESCRIPTION      Converts rawdata input from the Heimann radiometer and</dt>
<dd><p class="first">black body source into uncorrected surface tempratures,
parameter 537.</p>
<p class="last">The Heimmann is recorded by para 141, 
the blackbody reference temperature by para 142,
and bit 0 of the signal register (para 27) indicates whether
the Heimann is set to calibrate.</p>
</dd>
<dt>ARGUMENTS        IRAW   input raw data</dt>
<dd>IFRQ   raw data frequencies
RCONST flight constants corresponding to PRTCCAL and HEIMCAL
RDER   output data</dd>
</dl>
<p>SUBPROGRAMS</p>
<p>REFERENCES</p>
<p>VERSION          1.00 D.R.Lauchlan</p>
<p>CHANGES          
DESCRIPTION      Converts the two input parameters 141 (raw Heimann) and</p>
<blockquote>
<div><p>142 (black body reference temperature) into one, the
uncorrected HEIMAN temp (para 537).</p>
<p>The Heimann Radiometer data is converted using a quadratic
fit :
Surface temp =  RCONST(4) + RCONST(5)*x + RCONST(6)*x**2
RCONST(4 to 6) correspond to the constants with the keyword
HEIMCAL in the flight constants file.</p>
<p>The black body signal (para 142) is converted using
a quadratic fit :</p>
<blockquote>
<div>BB = a + b*x + c*x**2</div></blockquote>
<p>where constants a, b and c correspond to RCONST(1 to 3)
from the keyword PRTCCAL in the flight constant file.</p>
<p>Signal Register (para 27) bit 0 indicates the position of 
the black body;  0 = b/b out of FoV, 1 = b/b in FoV.</p>
<p>If signal register bit 0 is set to 1 and black body
reference temprature has been steady for the previous
3 seconds (mean of each second differs by no more than
0.1K), the b/b reference temperature is output.
Otherwise the HEIMAN temprature is output. An offset
is assigned accordingly:</p>
<blockquote>
<div><blockquote>
<div><dl class="docutils">
<dt>para 27 </dt>
<dd>bit 0</dd>
</dl>
</div></blockquote>
<p>233.26 to  313.06   Heimann-    0    (o/s = 0)</p>
</div></blockquote>
<p>1233.26 to 1313.06   Ref/BB -    0    (o/s = 1000)
2233.26 to 2313.06   Heimann-    1    (o/s = 2000)
3233.26 to 3313.06   Ref/BB -    1    (o/s = 2000 + 1000)</p>
<dl class="docutils">
<dt>(NOTE: an offset of 1000 is never assigned under </dt>
<dd>this scheme)</dd>
</dl>
<p>Heimann data is output for the time that the
reference temperature is output. This is done in
4 second bursts imediately after the reference 
sequence and overwrites the ramping sections.
Non reference or dwelling calibration temeratures
are flagged as 2.
Dwell Heimann data is output for the corresponding
calibration reference period after the instrument has 
switched back to measure, ie para 27 bit 0 becomes 0.</p>
<p>Bits 16 and 17 of the output temperature RDER(x,537) are
used to flag certain data conditions as follows :</p>
<blockquote>
<div><dl class="docutils">
<dt>Bits 16 and 17 = 00  - Good data, MEASURE/HEIMANN</dt>
<dd><dl class="first last docutils">
<dt>= 01  - Good data, but Heimann on CALIBRATE</dt>
<dd>and outputing DWELL temp
or looking at the Black Body temps
or BB moved out of field of view
and data are last Heimann dwell
data.</dd>
<dt>= 02  - Suspect or absent signal register </dt>
<dd>data, non-reference calibration
temperatures and non-dwelling
calibration temperatures.</dd>
<dt>= 03  - Absent data, passed through from</dt>
<dd>IRAW(x,141)</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</div></blockquote>
<dl class="docutils">
<dt>ARGUMENTS        IRAW(f,141)   Raw Heimann data</dt>
<dd>IRAW(f,27)    Raw signal register data 
IRAW(f,142)   Raw black body data
IFRQ(141)     Recorded frequency of Heimann Radiometer    
IFRQ(27)      Recorded frequency of signal register  
IFRQ(142)     Recorded frequency of black body
RCONST(1-6)   Constants for quadratic fit
RDER(f,537)   Uncorrected Heimann temps (deg K)</dd>
<dt>SUBPROGRAMS      ITSTFLG  -  Returns the value of bits 16 &amp; 17    - SCILIB</dt>
<dd><blockquote class="first">
<div>ISETFLG  -  Sets the value of bits 16 &amp; 17       - SCILIB
IBITS    -  Extracts selected bits from input    - FORTRAN
BTEST    -  Tests value of selected single bit   - FORTRAN</div></blockquote>
<dl class="last docutils">
<dt>C_HEIMAN_LTST_BB  -  Checks array elemenets are within</dt>
<dd>+/- 86                                - LOCAL</dd>
</dl>
</dd>
</dl>
<p>REFERENCES</p>
<dl class="docutils">
<dt>VERSION          1.00   09-11-94 D.R.Lauchlan</dt>
<dd>Based on C_BARNES V2.00 by D.P. Briggs</dd>
<dt>CHANGES          V1.01  10/02/99  W.D.N.JACKSON</dt>
<dd><p class="first">Bug in flag checking of raw data fixed.</p>
<p>V1.02  27/09/02  W.D.N.JACKSON
Changed to include handling of 16 bit data from the new 
DRS.  Also now expects calibrator temp cal to be in deg C.</p>
<p class="last">V1.03 11/11/04 J.P. TAYLOR
Changed to account for 16bit representation of DRS
parameters.  Allowable range of BB ref means changed from
+/- 6 to +/- 86 this is equivalent to 0.1K with the new
DRS 16bit data stream.</p>
</dd>
</dl>
</div></blockquote>
<dl class="method">
<dt id="ppodd.pod.p_rio_heiman.rio_heiman.process">
<tt class="descname">process</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_heiman.rio_heiman.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_rio_lwc">
<span id="p-rio-lwc-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_rio_lwc</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_rio_lwc" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_rio_lwc.rio_lwc">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_rio_lwc.</tt><tt class="descname">rio_lwc</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_lwc.rio_lwc" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_LWC</p>
<blockquote>
<div><p>ROUTINE            C_LWC   SUBROUTINE FORT VAX   [C_LWC.FOR]</p>
<p>PURPOSE            To calibrate DRS parm 42 to tardis parm 535 (LWC)</p>
<dl class="docutils">
<dt>DESCRIPTION        The Liquid Water Content (LWC) is a four hertz </dt>
<dd>parameter. It requires the True Air Speed (Parm 517), 
True De_iced Temperature (parm 520) and Static 
Pressure (parm 576). All these derived parameters 
(517, 520, 576) are at 32 Hertz. So for each quarter 
point of the LWC requires a sample of eight of 
the derived paramters to be averaged. This is done using
only good data points. If there are not eight samples but
more than one then the flag for the derived LWC is set to 1.
If the frequency of the DRS parm (42) is not equal to 4
then no values are calculated and all four points of the
LWC are set to -9999.0, with a flag of 3. If a point cannot
be calculated then the value of it is set to -9999.0 with
a flag value of 3. If the instrument is saturated then the
flag value is 1. If the derived value for the LWC falls out
of the bounds of -10 to 10 then the flag is set to 2.</dd>
</dl>
<p>VERSION            1.02 17-01-96 D Lauchlan</p>
<dl class="docutils">
<dt>ARGUMENTS         IRAW(64,512) I*4  IN   Raw data for the parameters</dt>
<dd>IFRQ(512)    I*4  IN   Frequencies of the data
RCONST(64)   R*4  IN   Constants required by routine,(1-28)
RDER(64,1024)R*4  OUT  Tardis parameters</dd>
</dl>
<p>COMMON     None.</p>
<p>SUBPROGRAMS        ISETFLG (linked automatically)</p>
<p>FILES              None.</p>
<dl class="docutils">
<dt>REFERENCES         MRF2 Specification for Total Water Hygrometer 4 Dec 1989</dt>
<dd><blockquote class="first">
<div>Ouldridge Feb 1982</div></blockquote>
<p class="last">Johnson 1979</p>
</dd>
<dt>CHANGES           110190 Documentational changes only         M.Glover  </dt>
<dd><p class="first">v 1.02 17-01-96 D Lauchlan
Unused parameters removed</p>
<p class="last">V1.03  27/09/02  W.D.N.JACKSON
Changed to include handling of 16 bit data from the new 
DRS.</p>
</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>DEC$ IDENT &#8216;V1.03&#8217;</dt>
<dd><p class="first">The frequencies of the derived parameters passed into this module
may change. That is why IFRQ_*** has been set up. Here is a table of
what values of it corresponds to what frequency;</p>
<blockquote>
<div><dl class="docutils">
<dt>Frq     IFRQ_***</dt>
<dd>4         0</dd>
</dl>
<p>16         1
32         7
64        15</p>
</div></blockquote>
<p>Calibrate the Johnson_Williams Liquid Water Content Probe - DRS 
parameter 42, sample rate 4 Hz. This is to be put into g kg-1.
This uses the elements of RCONST from 1 to 2.</p>
<blockquote class="last">
<div><blockquote>
<div><p>See if all the const are there,if not set the flag to 3
Find the average of the TAS.
Reset the starter for the do loop to be the old start 
point plus the incremental for the TAS frequency plus 
one.</p>
<blockquote>
<div>No good points.</div></blockquote>
<p>Find the average of the true de_iced temp.
Find the static pressure average.</p>
<blockquote>
<div>Only use good data, namley of flag zero.</div></blockquote>
<p>Make sure that division by one does not happen. 
ICHECK will be more than one if any of the constants 
are missing, or the true air speed is zero, or rho
is zero. 
ICHECK_2 will be diffrent than 1 if there are not eight
samples for the true de-iced temp or pressure.
If the flag of the raw data is less than three, then 
convert the raw data into derived data. This is done 
using ;</p>
<blockquote>
<div><dl class="docutils">
<dt>LWC=  (A+Bx)*77.2</dt>
<dd><blockquote class="first last">
<div>TAS*RHO</div></blockquote>
</dd>
<dt>RHO=0.3484*STATIC_PRESSURE</dt>
<dd><blockquote class="first last">
<div>TRUE_DE_ICED_TEMP</div></blockquote>
</dd>
</dl>
<p>If the flag is three or above, set the 
derived data to -9999.0.</p>
</div></blockquote>
<p>If the derived data is outside the bounds but not 
-9999.0, then set the flag to two.
If J/W &gt; 300/TAS  set J/W FLAG=1
300/tas = instrument saturation value.
Ref Ouldridge Feb 1982, Johnson 1979</p>
<blockquote>
<div>The derived data is within the limits then 
set the flag to that of the raw data. If the 
data is -9999.0 the flag will be three.</div></blockquote>
</div></blockquote>
<p>The data has not got the right frequency.</p>
</div></blockquote>
</dd>
</dl>
<dl class="method">
<dt id="ppodd.pod.p_rio_lwc.rio_lwc.process">
<tt class="descname">process</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_lwc.rio_lwc.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_rio_neph">
<span id="p-rio-neph-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_rio_neph</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_rio_neph" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_rio_neph.rio_neph">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_rio_neph.</tt><tt class="descname">rio_neph</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_neph.rio_neph" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<blockquote>
<div><blockquote>
<div><p>ROUTINE      C_NEPHL1</p>
<dl class="docutils">
<dt>PURPOSE      Calibrates the parameters from the TSI 3 wavelength</dt>
<dd>Nephelometer.</dd>
<dt>DESCRIPTION  The nephelometer output are subject to calibrations</dt>
<dd><p class="first">internal to the instrument plus the normal MILLIE/DRS
calibrations.</p>
<p>All raw parameters are digital conversions of the input
voltage. The digital values are converted using a
linear fit then the nephelometer internal cals are
applied to obtain the output derived values.
Parameters 175, 176 &amp; 183 are linear thus</p>
<blockquote>
<div>output = a + b * v /vfs</div></blockquote>
<p>where a and b are nephelometer internal constants,
v the derived voltage and vfs the full scale voltage.
Scattering parameters 177 through 182 are logarithmic
so</p>
<blockquote>
<div>output = 10**((v/b) - a) - c</div></blockquote>
<p>a, b and c are nephelometer internal constants, v
the derived voltage.</p>
<p class="last">Parameter 184, nephelometer status, is the analog output
of a 4 bit D to A converter. The LSB corresponds to 
0.625V.</p>
</dd>
</dl>
<p>VERSION      1.00  D.P.Briggs</p>
<p>SUBROUTINES  ISETFLG</p>
<p>FILES        NONE</p>
<dl class="docutils">
<dt>REFERENCES   Nephelometer Instruction Manual</dt>
<dd>Nephelometer internal technical note</dd>
</dl>
<p>PARAMETERS   RAW      DERIVED    FREQ   RANGE   UNITS</p>
</div></blockquote>
<p>NEPH PRESSURE       175        760      1Hz    0-10V    mb
NEPH TEMPERTURE     176        761      1Hz    0-10V    K
NEPH BLUE SP        177        762      1Hz    0-10V    /m
NEPH GREEN SP       178        763      1HZ    0-10V    /m
NEPH RED SP         179        764      1Hz    0-10V    /m
NEPH BLUE BSP       180        765      1Hz    0-10V    /m
NEPH GREEN BSP      182        766      1Hz    0-10V    /m
NEPH RED BSP        181        767      1Hz    0-10V    /m
NEPH HUMIDITY       183        768      1Hz    0-5V     %
NEPH STATUS         184        769      1Hz    0-10V    bits</p>
<blockquote>
<div><blockquote>
<div>NEPHELOMETER CONSTANT KEYWORDS</div></blockquote>
<p>CALNPRS  I J A B      
CALNTMP  I J A B
CALNBTS  I J A B C    NOTE : I &amp; J are multiplexer calibrations.
CALNGTS  I J A B C           A, B &amp; C are instrument internal cals.
CALNRTS  I J A B C
CALNBBS  I J A B C
CALNGBS  I J A B C
CALNRBS  I J A B C
CALNHUM  I J A B
CALNSTS  I J</p>
<blockquote>
<div><p>CHANGES 
V1.01  12/05/97  W.D.N.JACKSON</p>
<blockquote>
<div>Miscellaneous bug fixes, the most serious being the incorrect
calculation of the red backscattering coefficient, and a
tendency to crash with floating overflows.</div></blockquote>
<dl class="docutils">
<dt>V1.02  29/05/97  W.D.N.JACKSON</dt>
<dd>Changed to reflect fact that Red BS comes in on 181 and green
on para 182.</dd>
<dt>V1.03  19/06/98  W.D.N.JACKSON</dt>
<dd>Changed to reflect fact that bit 3 of the status word is 0
(not 1) when on calibrate.</dd>
<dt>V1.04  01/09/02  W.D.N.JACKSON</dt>
<dd>Small changes to handle new 16 bit DRS.  Also status parameter
is now calibrated.</dd>
</dl>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<dl class="method">
<dt id="ppodd.pod.p_rio_neph.rio_neph.process">
<tt class="descname">process</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_neph.rio_neph.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_rio_press">
<span id="p-rio-press-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_rio_press</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_rio_press" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_rio_press.rio_press">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_rio_press.</tt><tt class="descname">rio_press</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_press.rio_press" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_PRESS1</p>
<blockquote>
<div><p>ROUTINE          C_PRESS1 SUBROUTINE FORTVAX</p>
<p>PURPOSE          Calibrates the cabin pressure sensor and the S9 static port.</p>
<dl class="docutils">
<dt>DESCRIPTION      Apply calibration the combined transducer and DRS </dt>
<dd>coefficients to DRS parameters 14 and 221 to obtain derived
parameters 579 and 778.  Invalid data is flagged with 3, data
outside limits is flagged with 2.</dd>
<dt>METHOD           For each DRS parameter to be calibrated:</dt>
<dd><ol class="first arabic">
<li><p class="first">If data is FFFF or FFFE then flag 3</p>
</li>
<li><p class="first">Apply the calibration constants</p>
</li>
<li><p class="first">Check the results for being within acceptable values.</p>
</li>
<li><dl class="first docutils">
<dt>Set data flag bits (16+17) 0: Good data</dt>
<dd><p class="first last">1: Data of lower quality
2: Probably faulty, exceed lims
3: Data absent or invalid.</p>
</dd>
</dl>
</li>
</ol>
<p class="last">Flagging - If a value can&#8217;t be computed, due to missing data
missing constants, divide be zeroes, etc, a value of 0 is
used, flagged with a three.  If a value is outside its 
limits for range or rate of change, it is flagged with a two.
If there are no problems with the data it is flagged with 0.</p>
</dd>
</dl>
<p>VERSION          1.00  23/07/03  W.D.N.JACKSON</p>
<dl class="docutils">
<dt>ARGUMENTS        Inputs:</dt>
<dd><blockquote class="first">
<div><dl class="docutils">
<dt>DRS para  14 CABP  1 Hz Cabin pressure              </dt>
<dd>para 221 S9SP 32 Hz S9 static pressure</dd>
</dl>
</div></blockquote>
<dl class="last docutils">
<dt>Constants:</dt>
<dd>RCONST(1 to 3) Para 14 cal constants X0 to X2
RCONST(4 to 6) Para 221 cal constants X0 to X2</dd>
<dt>Outputs:</dt>
<dd><dl class="first last docutils">
<dt>Derived para 579 CABP mb  1 Hz Cabin pressure </dt>
<dd>para 778 S9SP mb 32 Hz S9 static pressure</dd>
</dl>
</dd>
<dt>Flags:</dt>
<dd>Missing/corrupt data output as 0 flagged 3.
Out of range data flagged 2.</dd>
</dl>
</dd>
</dl>
<p>SUBPROGRAMS      ISETFLG</p>
<p>REFERENCES</p>
<dl class="docutils">
<dt>CHANGES          V1.00 23/07/03  WDNJ Original version</dt>
<dd>Note that V1.00 has no application of S9 position errors.</dd>
</dl>
</div></blockquote>
<dl class="method">
<dt id="ppodd.pod.p_rio_press.rio_press.process">
<tt class="descname">process</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_press.rio_press.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_rio_psap">
<span id="p-rio-psap-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_rio_psap</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_rio_psap" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_rio_psap.rio_psap">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_rio_psap.</tt><tt class="descname">rio_psap</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_psap.rio_psap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<blockquote>
<div><blockquote>
<div><p>ROUTINE      C_PSAP</p>
<dl class="docutils">
<dt>PURPOSE      Calibrates the parameters from the Particle Soot</dt>
<dd>Absorbtion Photometer (PSAP).</dd>
<dt>DESCRIPTION  All raw parameters are digital conversions of the input</dt>
<dd><p class="first">voltage. The digital values are converted using a
linear fit then the instrument cals are
applied to obtain the output derived values.
Parameter 175 is linear thus</p>
<blockquote>
<div>output = v * 0.5E-5</div></blockquote>
<p>v the derived voltage and vfs the full scale voltage.
Parameter 177 is logrithmic so</p>
<blockquote class="last">
<div>ouput = 10**((v/2.0) - 7.0)</div></blockquote>
</dd>
</dl>
<p>VERSION      1.00  D.P.Briggs</p>
<p>SUBROUTINES  ISETFLG</p>
<p>FILES        NONE</p>
<p>PARAMETERS   RAW      DERIVED    FREQ   RANGE   UNITS</p>
</div></blockquote>
<p>PSAP LIN ABS COEFF  185        648      1Hz    0-10V    /m
PSAP LOG ABS COEFF  186        649      1Hz    0-10V    /m
PSAP TRANSMITTANCE  187                 1Hz    0-10V
PSAP FLOW RATE      188                 1Hz    0-10V</p>
<blockquote>
<div>PSAP CONSTANT KEYWORDS</div></blockquote>
<p>CALPLIN   i j    NOTE : i &amp; j are multiplexer calibrations.
CALPLOG   i j</p>
<blockquote>
<div><p>CHANGES</p>
<p>V1.01  01/10/02  W.D.N.JACKSON
Adjusted for 16 bit data from the new DRS</p>
</div></blockquote>
</div></blockquote>
<dl class="method">
<dt id="ppodd.pod.p_rio_psap.rio_psap.process">
<tt class="descname">process</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_psap.rio_psap.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_rio_radal">
<span id="p-rio-radal-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_rio_radal</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_rio_radal" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_rio_radal.rio_radal">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_rio_radal.</tt><tt class="descname">rio_radal</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_radal.rio_radal" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_RADAL1</p>
<blockquote>
<div><p>ROUTINE        C_RADAL1 SUBROUTINE FORTVAX</p>
<dl class="docutils">
<dt>PURPOSE        To subroutine to calculate the aircraft altitude from the radar</dt>
<dd>altimeter.</dd>
<dt>DESCRIPTION    The raw radar altimeter data is provided as a 16 bit signed</dt>
<dd><p class="first">number from the ARINC 429 data bus, with a least bit resolution
of 0.25 ft.</p>
<blockquote class="last">
<div>The derived data is quality controlled to ensure that:
(a) data outside the range 0 to 8191.75 ft are flagged 3
(b) more than two values the same are flagged 3
(c) more than 1000&#8217; change between values is flagged 3</div></blockquote>
</dd>
</dl>
<p>TO COMPILE     $FORT C_RADAL1</p>
<p>VERSION        1.00  02/10/02  W.D.N.JACKSON</p>
<dl class="docutils">
<dt>ARGUMENTS      IRAW(X,37)  - where x=1 or 2, on entry this contains the raw </dt>
<dd><blockquote class="first">
<div>radar height.</div></blockquote>
<dl class="last docutils">
<dt>IFRQ(37)    - on entry contains 2, the frequency of the raw </dt>
<dd>radar height.</dd>
<dt>RDER(X,575) - where x= 1 or 2, on exit contains the derived </dt>
<dd>radar height in meters.</dd>
</dl>
</dd>
<dt>CHANGES        V1.01  WDNJ  05/11/04</dt>
<dd>Flagging criteria improved</dd>
</dl>
</div></blockquote>
<dl class="method">
<dt id="ppodd.pod.p_rio_radal.rio_radal.process">
<tt class="descname">process</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_radal.rio_radal.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_rio_rvsm">
<span id="p-rio-rvsm-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_rio_rvsm</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_rio_rvsm" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_rio_rvsm.rio_rvsm">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_rio_rvsm.</tt><tt class="descname">rio_rvsm</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_rvsm.rio_rvsm" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.cal_base" title="ppodd.core.cal_base"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.cal_base</span></tt></a></p>
<p>FORTRAN routine C_TPRESS</p>
<blockquote>
<div><p>ROUTINE          C_TPRESS SUBROUTINE FORTVAX</p>
<dl class="docutils">
<dt>PURPOSE          Calibrates the five turbulence probe pressure transducers</dt>
<dd>into mb.</dd>
<dt>DESCRIPTION      Apply calibration the combined transducer and DRS </dt>
<dd>coefficients to DRS parameters 215 to 219 to obtain derived
parameters 773 to 777.  Invalid data is flagged with 3, data
outside limits is flagged with 2.</dd>
<dt>METHOD           For each DRS parameter to be calibrated:</dt>
<dd><ol class="first arabic">
<li><p class="first">If data is FFFF or FFFE then flag 3</p>
</li>
<li><p class="first">Apply the calibration constants</p>
</li>
<li><p class="first">Check the results for being within acceptable values.</p>
</li>
<li><dl class="first docutils">
<dt>Set data flag bits (16+17) 0: Good data</dt>
<dd><p class="first last">1: Data of lower quality
2: Probably faulty, exceed lims
3: Data absent or invalid.</p>
</dd>
</dl>
</li>
</ol>
<p class="last">Flagging - If a value can&#8217;t be computed, due to missing data
missing constants, divide be zeroes, etc, a value of 0 is
used, flagged with a three.  If a value is outside its 
limits for range or rate of change, it is flagged with a two.
If there are no problems with the data it is flagged with 0.</p>
</dd>
</dl>
<p>VERSION          1.00  23/07/03  W.D.N.JACKSON</p>
<dl class="docutils">
<dt>ARGUMENTS        Inputs:</dt>
<dd><blockquote class="first">
<div><dl class="docutils">
<dt>DRS para 215 TBP1 32 Hz Turbulence probe centre port</dt>
<dd>para 216 TBP2 32 Hz Turbulence probe attack ports
para 217 TBP3 32 Hz Turbulence probe sideslip ports
para 218 TBP4 32 Hz Turbulence probe attack check
para 219 TBP5 32 Hz Turbulence probe sideslip check</dd>
</dl>
</div></blockquote>
<dl class="last docutils">
<dt>Constants:</dt>
<dd>RCONST(1 to 4) Para 215 cal constants X0 to X3
RCONST(5 to 8) Para 216 cal constants X0 to X3
RCONST(9 to 12) Para 217 cal constants X0 to X3
RCONST(13 to 14) Para 218 cal constants X0 to X1
RCONST(15 to 16) Para 219 cal constants X0 to X1</dd>
<dt>Outputs:</dt>
<dd><dl class="first last docutils">
<dt>Derived para 773 TBP0 mb 32 Hz Centre pressure</dt>
<dd>para 774 TBPA mb 32 Hz Attack pressure
para 775 TBPB mb 32 Hz Sideslip pressure
para 776 TBPC mb 32 Hz Attack check pressure
para 777 TBPD mb 32 Hz Sideslip check pressure</dd>
</dl>
</dd>
<dt>Flags:</dt>
<dd>Missing/corrupt data output as 0 flagged 3.
Out of range data flagged 2.</dd>
</dl>
</dd>
</dl>
<p>SUBPROGRAMS      ISETFLG</p>
<p>REFERENCES</p>
<dl class="docutils">
<dt>CHANGES          V1.00 23/07/03  WDNJ Original version</dt>
<dd>Note that V1.00 has no limit checking and no use is made of
the check pressures.
V1.01 25/03/04  WDNJ
Now takes third order calibration constants for the main
transducers, and first order for the check transducers.
V1.02 26/01/06 Phil Brown
Realistic min/max values provided for centre-port, Pa, Pb
for flagging purposes. Values alsoe provided for check
pressures Ca, Cb based on current (and probably wrong)
calibration coefficients.
V1.03 09/02/11 Axel Wellpott
From an email from Phil Brown: &#8220;The P0-S10 differential pressure
(para 773) is flagged 2 if it exceeds 130.0 hPa. This is easily 
exceeded when we do acceleration to max speed (min Angle of Attack)
so all the subsequent parameters calculated n C_TURB.for end up with a
flag-3 saetting. I reckon a better value would be 180.0 hPa.&#8221;</dd>
</dl>
</div></blockquote>
<dl class="method">
<dt id="ppodd.pod.p_rio_rvsm.rio_rvsm.process">
<tt class="descname">process</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_rvsm.rio_rvsm.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ppodd.pod.p_rio_rvsm.rio_rvsm.resample">
<tt class="descname">resample</tt><big>(</big><em>P</em>, <em>flag</em>, <em>freq=32</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_rvsm.rio_rvsm.resample" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_rio_sols">
<span id="p-rio-sols-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_rio_sols</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_rio_sols" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_rio_sols.rio_sols">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_rio_sols.</tt><tt class="descname">rio_sols</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_sols.rio_sols" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<blockquote>
<div><p>ROUTINE      C_SOLS    SUBROUTINE  FORTVAX</p>
<p>PURPOSE     CALIBRATE  PYRANOMETER &amp; PYRGEOMETER RAW SIGNALS AND THERMISTORS.</p>
<dl class="docutils">
<dt>DESCRIPTION  Apply calibration coefficients to RAW parameters 81-89 and 91-99</dt>
<dd><blockquote class="first">
<div>to obtain uncorrected values of signal flux, zero offset signal</div></blockquote>
<p class="last">(W/m-2) and thermistor output (deg K)  for  each  of  the 
upward-facing and downward-facing sets of: clear dome &amp; red dome
pyranometers and pyrgeometer.</p>
</dd>
<dt>NOTE             The actual configuration is specified by the array</dt>
<dd><dl class="first docutils">
<dt>ICONF, which has six elements whose meaning interpreted as:</dt>
<dd>1,4 : Clear dome pyranometer  (upper/lower)
2,5 : red    &#8221;       &#8221;           &#8221;     &#8221;
3,6 : Silver &#8221;   pyrgeometer     &#8221;     &#8220;</dd>
<dt>(normally: ICONF(1-3) Upper instruments.</dt>
<dd>ICONF(4-6) Lower instruments.)</dd>
</dl>
<p class="last">This value assists the processing of each instrument by 
selecting the correct range checking values to use.
Should the configuration aboard the aircraft be changed
the array ICONF should be adjusted accordingly by adding
offsets to the second calibration constant in the constants
file. 
e.g. If  the second constant for, say, the second instrument
was changed from 1.23456E-1 to 21.23456E-1, the offset would
decode to &#8220;2&#8221; after decoding.
This is assigned to ICONF(2) and would imply that the 
&#8216;channel&#8217; contained raw flux, zero-offset and thermistor 
values for a red dome - rather than clear dome - pyranometer.
and should be range-checked for that type of output only.</p>
</dd>
</dl>
<p>METHOD       For each RAW parameter to be calibrated, for the six instruments:</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Check all its required constants are present (Flag &lt;3)
(if not, the calibration of that parameter will not proceed)
[Also check that the normal configuration of instruments is to
be used. Any changes are indicated by the presence of a large
offset to the second calibration constant for any instrument.
If this is present the offset is decoded to generate a revised
ICONF indicator for that instrument. See note below.]</p>
</li>
<li><p class="first">Obtain the raw signal/zero value and float the result.</p>
</li>
<li><p class="first">Calibrate by applying the appropriate instrument cal in RCALB
(which is loaded from the RCONST arguments) to both raw 
signal flux and zero offset, which  use the same coefficients
The gains are in W/m-2 /DRS count. DRS counts are related
to radiometer output Voltage.
Note that the output Voltage from the instrument  is the
value after being amplified by the head amplifier.</p>
</li>
<li><p class="first">Range check and Rate-of-change check: (S/R QCPT)
- the calibrated signal (Wm-2)
- Zero offset           (DRS units)
- temperature           (deg K)</p>
</li>
<li><p class="first">Calibrate the thermistor input using two RCALB coefficients.
Add 273.15 deg to thermistor results to express the 
instrument thermopile temperature in degrees Kelvin.</p>
</li>
<li><p class="first">Check the result is within pre-defined limits</p>
</li>
<li><dl class="first docutils">
<dt>Set the calibrated values flag bits (16+17) as follows:</dt>
<dd><p class="first last">0: Good data  
1: Data of lower quality
2: Data probably faulty, exceeding limits
3: Data absent or known to be invalid.</p>
</dd>
</dl>
</li>
</ol>
</div></blockquote>
<p>VERSION      1.04 250692   A D HENNINGS</p>
<dl class="docutils">
<dt>ARGUMENTS       RCONST(1)  - REAL*4 IN  Upper Clear dome Signal &amp; Zero const.</dt>
<dd><blockquote class="first">
<div><ul class="simple">
<li>RCONST(2)  - REAL*4 IN  Upper Clear dome Signal &amp; Zero gain.
RCONST(3)  - REAL*4 IN  Upper Clear dome Thermistor: constant
RCONST(4)  - REAL*4 IN  Upper Clear dome Thermistor: coeff x.
RCONST(5)  - REAL*4 IN  Upper Red   dome Signal &amp; Zero const.</li>
<li>RCONST(6)  - REAL*4 IN  Upper Red   dome Signal &amp; Zero gain.
RCONST(7)  - REAL*4 IN  Upper Red   dome Thermistor: constant
RCONST(8)  - REAL*4 IN  Upper Red   dome Thermistor: coeff x.
RCONST(9)  - REAL*4 IN  Upper I/R   dome Signal &amp; Zero const.</li>
<li>RCONST(10) - REAL*4 IN  Upper I/R   dome Signal &amp; Zero gain.
RCONST(11) - REAL*4 IN  Upper I/R   dome Thermistor: constant
RCONST(12) - REAL*4 IN  Upper I/R   dome Thermistor: coeff x.
RCONST(13) - REAL*4 IN  Lower Clear dome Signal &amp; Zero const.</li>
<li>RCONST(14) - REAL*4 IN  Lower Clear dome Signal &amp; Zero gain.
RCONST(15) - REAL*4 IN  Lower Clear dome Thermistor: constant
RCONST(16) - REAL*4 IN  Lower Clear dome Thermistor: coeff x.
RCONST(17) - REAL*4 IN  Lower Red   dome Signal &amp; Zero const.</li>
<li>RCONST(18) - REAL*4 IN  Lower Red   dome Signal &amp; Zero gain.
RCONST(19) - REAL*4 IN  Lower Red   dome Thermistor: constant
RCONST(20) - REAL*4 IN  Lower Red   dome Thermistor: coeff x.
RCONST(21) - REAL*4 IN  Lower I/R   dome Signal &amp; Zero const.</li>
<li>RCONST(22) - REAL*4 IN  Lower I/R   dome Signal &amp; Zero gain.
RCONST(23) - REAL*4 IN  Lower I/R   dome Thermistor: constant
RCONST(24) - REAL*4 IN  Lower I/R   dome Thermistor: coeff x.</li>
</ul>
</div></blockquote>
<p>(*  also contains an offset evaluated to ICONF() ).</p>
<blockquote class="last">
<div><p>IFRQ(par)  _ INT*4  IN  Input frequency of each sample. 
IRAW(n,par)- INT*4  IN  Raw instrument voltage conversion.</p>
<blockquote>
<div>(samples n=1; par=81-89, 91-99)</div></blockquote>
<dl class="docutils">
<dt>RDER(op,opar)REAL*4 OUT Raw flux signal, zero-offset signal</dt>
<dd>and instrument temperature.
(samples op=1; opar=673-690)</dd>
</dl>
</div></blockquote>
</dd>
</dl>
<p>SUBPROGRAMS  ITSTFLG, ISETFLG</p>
<p>FILES        none</p>
<p>REFERENCES   Equations from MRF Instrument section.</p>
<dl class="docutils">
<dt>CHANGES      020490 Revised  range limits introduced.                 ADH</dt>
<dd><dl class="first docutils">
<dt>100191                                                   ADH</dt>
<dd><blockquote class="first">
<div><ol class="loweralpha simple">
<li>Range limits revised to allow for Pyranometer changes</li>
</ol>
</div></blockquote>
<dl class="docutils">
<dt>&#8221;     b) New arrays to hold raw input, constants etc for</dt>
<dd>more straightforward indexing.</dd>
</dl>
<p class="last">&#8221;     c) Include ICONF to aid reconfiguring instrument types.</p>
</dd>
<dt>010891 Range limits for ZERO now in terms of DRS units, revised</dt>
<dd>limits in Wm-2 for signal.</dd>
</dl>
<p>030292 Rates of change checks instituted on all BBR inputs.  ADH
120698 Bug fixed in quality control processing when using non-</p>
<blockquote>
<div>standard configurations. MDG/WDNJ</div></blockquote>
<dl class="docutils">
<dt>270600 I/R signal maximum increased to stop flagging good data</dt>
<dd>value arbitary, as no explanation of numbers found.
1050. &gt; 1500. DAT</dd>
</dl>
<p>V1.06  02/10/02  Changed to use 16 bit DRS data.
V1.07  27/11/02  Now takes X0 sensitivity constant as well as X1
V1.08  22/07/04  Bug so doesn&#8217;t crash if first data flagged 3
V1.09  13/08/04  Quality Control zero limits increased for</p>
<blockquote class="last">
<div>16 bit data</div></blockquote>
</dd>
</dl>
</div></blockquote>
<dl class="method">
<dt id="ppodd.pod.p_rio_sols.rio_sols.process">
<tt class="descname">process</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_sols.rio_sols.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_rio_sreg">
<span id="p-rio-sreg-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_rio_sreg</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_rio_sreg" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_rio_sreg.rio_sreg">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_rio_sreg.</tt><tt class="descname">rio_sreg</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_sreg.rio_sreg" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.cal_base" title="ppodd.core.cal_base"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.cal_base</span></tt></a></p>
<p>Routine to calculate signal register from Decades parameters</p>
<dl class="method">
<dt id="ppodd.pod.p_rio_sreg.rio_sreg.process">
<tt class="descname">process</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_sreg.rio_sreg.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_rio_sun">
<span id="p-rio-sun-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_rio_sun</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_rio_sun" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_rio_sun.rio_sun">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_rio_sun.</tt><tt class="descname">rio_sun</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_sun.rio_sun" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_GSUN</p>
<blockquote>
<div><p>ROUTINE          C_SUN         SUBROUTINE FORTVAX  C_SUN.FOR</p>
<p>PURPOSE          PUT SOLAR ZENITH AND AZIMUTH ANGLES IN MFD</p>
<dl class="docutils">
<dt>DESCRIPTION      Given date, time and location on the earth&#8217;s</dt>
<dd>surface this routine puts a solar zenith and
azimuth angle in the array of derived parameters.
It computes a value once every second. The 
angles are only obtained if all the flags are
set to less than 3 and the date, time and location
are all within sensible limits. Any flags set on input
are also set in the solar angles derived. If
the input is in error or the flags are set to 3
a value of -99. is returned for ZEN and AZIM.
To test the routine:
$ FOR C_SUN
$ FOR TEST_C_SUN
$ LINK TEST_C_SUN,C_SUN
Ensure contents of files RCONST.DAT and TEST_C_SUN.DAT
contain simulated data you require to test the routine
with.</dd>
</dl>
<p>VERSION          1.02  1st May 1992   J.A.Smith</p>
<dl class="docutils">
<dt>ARGUMENTS        RDER(1,515)  R*4 IN Time GMT (seconds from midnight)</dt>
<dd><blockquote class="first">
<div>RDER(1,550)  R*4 IN Omega latitude degrees (north +ve)
RDER(1,551)  R*4 IN Omega longitude degrees (east +ve)</div></blockquote>
<p>or RDER(1,541)  R*4 IN INU latitude degrees (north +ve)
or RDER(1,542)  R*4 IN INU longitude degrees (east +ve)</p>
<blockquote class="last">
<div>RCONST(1)    R*4 IN Day in month (1-31)
RCONST(2)    R*4 IN Month in year (1-12)
RCONST(3)    R*4 IN Year (eg 1984)
RDER(1,642)  R*4 OUT Solar azimuth in degrees
RDER(1,643)  R*4 OUT Solar zenith in degrees</div></blockquote>
</dd>
</dl>
<p>SUBPROGRAMS      S_SUN , ITSTFLG, ISETFLG</p>
<dl class="docutils">
<dt>CHANGES          01 Range checks for input data now done in S_SUN </dt>
<dd><blockquote class="first">
<div>RWS 30/10/90</div></blockquote>
<dl class="docutils">
<dt>1.02 Check added if time RSECS has reached midnight and</dt>
<dd>if so to reduce RSECS to less than 86400 s and increase
the date.  JAS 1/5/92</dd>
<dt>1.03 Following the demise of the Omega, now uses INU position</dt>
<dd>for flights after 30/09/97.  Note that this routine is
now always called by CALIBRATE, even if neither Omega or
INU were available.  WDNJ 20/10/97</dd>
</dl>
<p class="last">1.04 Now strips flags from data before use.  WDNJ 22/12/97
1.05 Can take GIN input 05/09/07
1.06 Changes made how lon/lat input is derived AxW 29/03/10</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_rio_temps">
<span id="p-rio-temps-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_rio_temps</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_rio_temps" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_rio_temps.rio_temps">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_rio_temps.</tt><tt class="descname">rio_temps</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_temps.rio_temps" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_TEMPS2</p>
<blockquote>
<div><p>ROUTINE          C_TEMPS2 SUBROUTINE FORTVAX</p>
<p>PURPOSE          Produces calibrated deiced and non-deiced temperatures</p>
<dl class="docutils">
<dt>DESCRIPTION      Calculates indicated and true air temperatures in K for the</dt>
<dd><blockquote class="first">
<div><p>Deiced and Non-Deiced temperature sensors as follows:</p>
<p>519 - Indicated Air Temperature  from Deiced     [K] at 32Hz
520 - True Air Temperature       from Deiced     [K] at 32Hz
524 - Indicated Air Temperature  from Non-deiced [K] at 32Hz
525 - True Air Temperature       from Non-deiced [K] at 32Hz</p>
<p>Note that this module only processes data recorded on the
146 which only uses one parameter per temperature.</p>
<p>The Deiced Temperature is recorded on the DRS at 32Hz as 
parameter 10 and the Non-deiced Temperature is recorded on 
the DRS as parameter 23.</p>
<p>Indicated Air Temperature is derived by application of 
the appropriate second order calibration coefficients to the
raw data.</p>
<p>A correction for heating from the deicing heater is made to
the deiced indicated air temperature if the heater is 
switched on, as indicated by bit 5 of the signal register
(parameter 27) being clear.  This heating correction is
obtained from graphs of Temperature vs Machno in Rosemount
Technical Reports 7597 &amp; 7637.  If Machno is less than
0.1 the data is flagged 1, because the Rosemount graph is 
invalid below 0.1, and if Machno below 0.05, a value of 0.05
is use to ensure a valid logarithm.  The algorithm used for
heating correction is:</p>
</div></blockquote>
<p>(exp(exp(1.171+(log(Machno)+2.738)*(-0.000568*(s+q)-0.452))))*0.1</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>where: s=static pressure       [mbs]</dt>
<dd>q=pitot static pressure [mbs]</dd>
</dl>
<p>True Air Temperature is derived as:</p>
<dl class="docutils">
<dt>TAT[K] = (Indicated Air Temperature[K]) /</dt>
<dd>(1.0 +(0.2 * MACHNO * MACHNO * TRECFTR))</dd>
<dt>where: MACHNO  is computed by scientific subroutine S_MACH.</dt>
<dd><blockquote class="first">
<div><dl class="docutils">
<dt>TRECFTR is the Temperature recovery factor - used to</dt>
<dd><p class="first">compensate for effects of kinetic heating.
This is supplied as a constant from the
flight constants file to this routine.</p>
<p class="last">It can be calculated from flight results of
slow/fast runs as:</p>
</dd>
</dl>
</div></blockquote>
<p>(Tindfast-Tindslow)/(Ffast*Tindslow-Fslow*Tindfast)</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>where: Tind = indicated temperature [K]</dt>
<dd>F    = 0.2 * Machno * Machno</dd>
</dl>
</div></blockquote>
</dd>
</dl>
<p>Flagging:</p>
<p>Both deiced and non-deiced temperature calculations follow
a similar scheme for error flagging, with worst case flags
being propagated through the calculations.  Sources of error
flags are:</p>
<blockquote>
<div>Absence of calibration constants    - flag 3
Absence of recovery factor constant - flag 3
Static pressure errors              - Parameter 576 flag
Pitot pressure errors               - Parameter 577 flag
Max/min/rate of change errors       - flag 2
Mach No less than 0.1               - flag 1</div></blockquote>
<p>Not all the above errors need affect all measurements.  For
instance pressure errors will not affect Indicated Air
Temperatures, unless the deicing heater is on.  Note that
this module cannot be called if any of the raw (not derived)
parameters are missing.  Also note that no raw data on which
this module can be used will be carrying flags (only raw
data transcribed on the Gould computer can carry flags).  If
any temperature has a flag of three, its value is set to
0.0 K (and flagged with a three).</p>
</div></blockquote>
</dd>
</dl>
<p>VERSION          1.00  10/09/92  W.D.N.JACKSON</p>
<dl class="docutils">
<dt>ARGUMENTS     </dt>
<dd><p class="first">Constants:
RCONST(1)   Recovery factor for Deiced sensor
RCONST(2)   Recovery factor for Non-deiced sensor
RCONST(3)   Deiced X0 calibration constant (deg C)
RCONST(4)   Deiced X1 calibration constant (deg C)
RCONST(5)   Deiced X2 calibration constant (deg C)
RCONST(6)   Non-deiced X0 calibration constant (deg C)
RCONST(7)   Non-deiced X1 calibration constant (deg C)
RCONST(8)   Non-deiced X2 calibration constant (deg C)</p>
<p>Inputs: 
DEICED TEMPERATURE            [bits 0-15]     Para  10 32Hz
NON DEICED TEMPERATURE        [bits 0-15]     Para  23 32Hz
SIGNAL REGISTER               [drs units-bcd] Para  27  2Hz
STATIC PRESSURE               [mbs]           Para 576 32Hz
PITOT STATIC PRESSURE         [mbs]           Para 577 32Hz</p>
<p class="last">Outputs: 
INDICATED AIR TEMPERATURE (Deiced)   [K]      Para 519 32Hz
TRUE AIR TEMPERATURE      (Deiced)   [K]      Para 520 32Hz
INDICATED AIR TEMPERATURE (NonDeiced)[K]      Para 524 32Hz
TRUE AIR TEMPERATURE      (NonDeiced)[K]      Para 525 32Hz</p>
</dd>
<dt>SUBPROGRAMS      S_MACH           Calculates Mach no</dt>
<dd>ITSTFLG          Examines bits 16,17 for flags
ISETFLG          Sets flag bits 16,17 = 0 &#8211;&gt; 3
S_QCPT           Performs range and rate of change check</dd>
<dt>REFERENCES       Code adapted from C_TEMPS module.  See MRF Internal Note 55 -</dt>
<dd>&#8216;Temperature Measurement Working Group Report&#8217; for full
details of C-130 temperature measurement.</dd>
<dt>CHANGES          V1.01  27/09/02  W.D.N.JACKSON</dt>
<dd>Changed to handle 16 bit temperature recording.
V1.02  23/05/05  D.A.TIDDEMAN
Temperature heater correction changed to opposite sense
Now raw para 27 bit 5 on = heater on</dd>
</dl>
</div></blockquote>
<dl class="method">
<dt id="ppodd.pod.p_rio_temps.rio_temps.process">
<tt class="descname">process</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_temps.rio_temps.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_rio_tpress">
<span id="p-rio-tpress-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_rio_tpress</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_rio_tpress" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_rio_tpress.rio_tpress">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_rio_tpress.</tt><tt class="descname">rio_tpress</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_tpress.rio_tpress" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_TPRESS</p>
<blockquote>
<div><p>ROUTINE          C_TPRESS SUBROUTINE FORTVAX</p>
<dl class="docutils">
<dt>PURPOSE          Calibrates the five turbulence probe pressure transducers</dt>
<dd>into mb.</dd>
<dt>DESCRIPTION      Apply calibration the combined transducer and DRS </dt>
<dd>coefficients to DRS parameters 215 to 219 to obtain derived
parameters 773 to 777.  Invalid data is flagged with 3, data
outside limits is flagged with 2.</dd>
<dt>METHOD           For each DRS parameter to be calibrated:</dt>
<dd><ol class="first arabic">
<li><p class="first">If data is FFFF or FFFE then flag 3</p>
</li>
<li><p class="first">Apply the calibration constants</p>
</li>
<li><p class="first">Check the results for being within acceptable values.</p>
</li>
<li><dl class="first docutils">
<dt>Set data flag bits (16+17) 0: Good data</dt>
<dd><p class="first last">1: Data of lower quality
2: Probably faulty, exceed lims
3: Data absent or invalid.</p>
</dd>
</dl>
</li>
</ol>
<p class="last">Flagging - If a value can&#8217;t be computed, due to missing data
missing constants, divide be zeroes, etc, a value of 0 is
used, flagged with a three.  If a value is outside its 
limits for range or rate of change, it is flagged with a two.
If there are no problems with the data it is flagged with 0.</p>
</dd>
</dl>
<p>VERSION          1.00  23/07/03  W.D.N.JACKSON</p>
<dl class="docutils">
<dt>ARGUMENTS        Inputs:</dt>
<dd><blockquote class="first">
<div><dl class="docutils">
<dt>DRS para 215 TBP1 32 Hz Turbulence probe centre port</dt>
<dd>para 216 TBP2 32 Hz Turbulence probe attack ports
para 217 TBP3 32 Hz Turbulence probe sideslip ports
para 218 TBP4 32 Hz Turbulence probe attack check
para 219 TBP5 32 Hz Turbulence probe sideslip check</dd>
</dl>
</div></blockquote>
<dl class="last docutils">
<dt>Constants:</dt>
<dd>RCONST(1 to 4) Para 215 cal constants X0 to X3
RCONST(5 to 8) Para 216 cal constants X0 to X3
RCONST(9 to 12) Para 217 cal constants X0 to X3
RCONST(13 to 14) Para 218 cal constants X0 to X1
RCONST(15 to 16) Para 219 cal constants X0 to X1</dd>
<dt>Outputs:</dt>
<dd><dl class="first last docutils">
<dt>Derived para 773 TBP0 mb 32 Hz Centre pressure</dt>
<dd>para 774 TBPA mb 32 Hz Attack pressure
para 775 TBPB mb 32 Hz Sideslip pressure
para 776 TBPC mb 32 Hz Attack check pressure
para 777 TBPD mb 32 Hz Sideslip check pressure</dd>
</dl>
</dd>
<dt>Flags:</dt>
<dd>Missing/corrupt data output as 0 flagged 3.
Out of range data flagged 2.</dd>
</dl>
</dd>
</dl>
<p>SUBPROGRAMS      ISETFLG</p>
<p>REFERENCES</p>
<dl class="docutils">
<dt>CHANGES          V1.00 23/07/03  WDNJ Original version</dt>
<dd>Note that V1.00 has no limit checking and no use is made of
the check pressures.
V1.01 25/03/04  WDNJ
Now takes third order calibration constants for the main
transducers, and first order for the check transducers.
V1.02 26/01/06 Phil Brown
Realistic min/max values provided for centre-port, Pa, Pb
for flagging purposes. Values alsoe provided for check
pressures Ca, Cb based on current (and probably wrong)
calibration coefficients.
V1.03 09/02/11 Axel Wellpott
From an email from Phil Brown: &#8220;The P0-S10 differential pressure
(para 773) is flagged 2 if it exceeds 130.0 hPa. This is easily 
exceeded when we do acceleration to max speed (min Angle of Attack)
so all the subsequent parameters calculated n C_TURB.for end up with a
flag-3 saetting. I reckon a better value would be 180.0 hPa.&#8221;</dd>
</dl>
</div></blockquote>
<dl class="method">
<dt id="ppodd.pod.p_rio_tpress.rio_tpress.process">
<tt class="descname">process</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.p_rio_tpress.rio_tpress.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_rvsm">
<span id="p-rvsm-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_rvsm</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_rvsm" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_rvsm.rvsm">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_rvsm.</tt><tt class="descname">rvsm</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_rvsm.rvsm" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_RVSM</p>
<blockquote>
<div><p>ROUTINE          C_RVSM SUBROUTINE FORTVAX</p>
<dl class="docutils">
<dt>PURPOSE          Computes static pressure, pitot-static pressure, and pressure</dt>
<dd>height from the 146 RVSM altitude and airspeed data.</dd>
<dt>DESCRIPTION      RVSM altitude is available in ARINC-429 message 203 and is</dt>
<dd><p class="first">recorded as by the DRS as a 16 bit signed word, with the 
LSB representing 4 feet.</p>
<p>RVSM computed airspeed is available in ARINC-429 message
206 and is recorded by the DRS as a 16 bit signed word, with
the LSB representing 1/32 kt, but always zero.</p>
<p>These values should be within the system accuracy
specification and do not require calibration.</p>
<p class="last">Note that altitude is updated by the RVSM at about 20 Hz
and airspeed is updated at about 10 Hz.  Both signals are
sampled by the DRS at 32 Hz so there will be multiple
values and aliasing effects.</p>
</dd>
<dt>METHOD           For each DRS parameter to be calibrated:</dt>
<dd><ol class="first arabic">
<li><p class="first">If data is FFFF or FFFE or out of range then flag 3</p>
</li>
<li><p class="first">Decode the altitude and use the tables in NASA TN D-822
to back compute the static pressure.</p>
</li>
<li><p class="first">Decode the airspeed and use fundamental equations to 
compute pitot-static pressure.</p>
</li>
<li><p class="first">Check the results for being within acceptable values.</p>
</li>
<li><dl class="first docutils">
<dt>Set data flag bits (16+17) 0: Good data</dt>
<dd><p class="first last">1: Data of lower quality
2: Probably faulty, exceed lims
3: Data absent or invalid.</p>
</dd>
</dl>
</li>
</ol>
<p>Flagging - If a value can&#8217;t be computed, due to missing data
missing constants, divide be zeroes, etc, a value of 0 is
used, flagged with a three.  If a value is outside its 
limits for range, it is flagged with a two.
If there are no problems with the data it is flagged with 0.
Any flags on input data are propagated through subsequent 
calculations.</p>
<p class="last">Note that routine does not currently apply position error
corrections, nor interpolate missing data.</p>
</dd>
</dl>
<p>VERSION          1.00  23/07/03  W.D.N.JACKSON</p>
<dl class="docutils">
<dt>ARGUMENTS        Inputs:</dt>
<dd><blockquote class="first">
<div><dl class="docutils">
<dt>DRS para 222 RVAL 32 Hz RVSM altitude</dt>
<dd>para 223 RVAS 32 Hz RVSM computed airspeed</dd>
</dl>
</div></blockquote>
<dl class="last docutils">
<dt>Outputs:</dt>
<dd><dl class="first last docutils">
<dt>Derived para 576 SPR  mb 32 Hz Static pressure</dt>
<dd>para 577 PSP  mb 32 Hz Pitot-static pressure
para 578 PHGT m  32 Hz Pressure height</dd>
</dl>
</dd>
<dt>Flags:</dt>
<dd>Missing/corrupt data output as 0 flagged 3.
Out of range derived data flagged 2.</dd>
</dl>
</dd>
</dl>
<p>SUBPROGRAMS      S_PSP, ALT2PRESS, ISETFLG</p>
<dl class="docutils">
<dt>REFERENCES       NASA Technical Note D-822, Aug 1961, Tables of airspeed,</dt>
<dd><p class="first">altitude, and mach number.</p>
<p class="last">Interface Control Document, Air Data Display Unit, ISS
1G-80130-22.</p>
</dd>
<dt>CHANGES          V1.00 23/07/03  WDNJ Original version</dt>
<dd><p class="first">V1.01 23/10/03  WDNJ Now replicates data when missing
V1.02 11/12/03  WDNJ Fixes bug if initial data missing
V1.03 11/03/04  DAT Flags data outside altitude range 3
V1.04 17/03/04  WDNJ Now handles negative heights correctly</p>
<blockquote class="last">
<div>and uses more accurate flagging criteria</div></blockquote>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_so2">
<span id="p-so2-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_so2</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_so2" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_so2.so2">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_so2.</tt><tt class="descname">so2</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_so2.so2" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_SO2</p>
<blockquote>
<div><p>ROUTINE        C_SO2 SUBROUTINE FORTVAX</p>
<p>PURPOSE        A subroutine to calculate Carbon monoxide.</p>
<dl class="docutils">
<dt>DESCRIPTION    The SO2 analyser outputs one measurement.</dt>
<dd>This is input to the program as DRS bits, and converted
into PPB by multiplying the DRS bits by a calibration factor.</dd>
</dl>
<p>TO COMPILE     $FORT C_SO2</p>
<p>VERSION        1.00  8-Jul-2004        D.Tiddeman</p>
<dl class="docutils">
<dt>ARGUMENTS      IRAW(1,214) - on entry contains the raw SO2 signal</dt>
<dd><dl class="first last docutils">
<dt>RCONST(1,2,3,4) XO and X1 voltage cal for SO2, v to ppb, ppb offs</dt>
<dd>RDER(1,740) - on exit contains the derived SO2 signal</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_sols">
<span id="p-sols-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_sols</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_sols" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_sols.sols">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_sols.</tt><tt class="descname">sols</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_sols.sols" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<blockquote>
<div><p>ROUTINE      C_SOLS    SUBROUTINE  FORTVAX</p>
<p>PURPOSE     CALIBRATE  PYRANOMETER &amp; PYRGEOMETER RAW SIGNALS AND THERMISTORS.</p>
<dl class="docutils">
<dt>DESCRIPTION  Apply calibration coefficients to RAW parameters 81-89 and 91-99</dt>
<dd><blockquote class="first">
<div>to obtain uncorrected values of signal flux, zero offset signal</div></blockquote>
<p class="last">(W/m-2) and thermistor output (deg K)  for  each  of  the 
upward-facing and downward-facing sets of: clear dome &amp; red dome
pyranometers and pyrgeometer.</p>
</dd>
<dt>NOTE             The actual configuration is specified by the array</dt>
<dd><dl class="first docutils">
<dt>ICONF, which has six elements whose meaning interpreted as:</dt>
<dd>1,4 : Clear dome pyranometer  (upper/lower)
2,5 : red    &#8221;       &#8221;           &#8221;     &#8221;
3,6 : Silver &#8221;   pyrgeometer     &#8221;     &#8220;</dd>
<dt>(normally: ICONF(1-3) Upper instruments.</dt>
<dd>ICONF(4-6) Lower instruments.)</dd>
</dl>
<p class="last">This value assists the processing of each instrument by 
selecting the correct range checking values to use.
Should the configuration aboard the aircraft be changed
the array ICONF should be adjusted accordingly by adding
offsets to the second calibration constant in the constants
file. 
e.g. If  the second constant for, say, the second instrument
was changed from 1.23456E-1 to 21.23456E-1, the offset would
decode to &#8220;2&#8221; after decoding.
This is assigned to ICONF(2) and would imply that the 
&#8216;channel&#8217; contained raw flux, zero-offset and thermistor 
values for a red dome - rather than clear dome - pyranometer.
and should be range-checked for that type of output only.</p>
</dd>
</dl>
<p>METHOD       For each RAW parameter to be calibrated, for the six instruments:</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Check all its required constants are present (Flag &lt;3)
(if not, the calibration of that parameter will not proceed)
[Also check that the normal configuration of instruments is to
be used. Any changes are indicated by the presence of a large
offset to the second calibration constant for any instrument.
If this is present the offset is decoded to generate a revised
ICONF indicator for that instrument. See note below.]</p>
</li>
<li><p class="first">Obtain the raw signal/zero value and float the result.</p>
</li>
<li><p class="first">Calibrate by applying the appropriate instrument cal in RCALB
(which is loaded from the RCONST arguments) to both raw 
signal flux and zero offset, which  use the same coefficients
The gains are in W/m-2 /DRS count. DRS counts are related
to radiometer output Voltage.
Note that the output Voltage from the instrument  is the
value after being amplified by the head amplifier.</p>
</li>
<li><p class="first">Range check and Rate-of-change check: (S/R QCPT)
- the calibrated signal (Wm-2)
- Zero offset           (DRS units)
- temperature           (deg K)</p>
</li>
<li><p class="first">Calibrate the thermistor input using two RCALB coefficients.
Add 273.15 deg to thermistor results to express the 
instrument thermopile temperature in degrees Kelvin.</p>
</li>
<li><p class="first">Check the result is within pre-defined limits</p>
</li>
<li><dl class="first docutils">
<dt>Set the calibrated values flag bits (16+17) as follows:</dt>
<dd><p class="first last">0: Good data  
1: Data of lower quality
2: Data probably faulty, exceeding limits
3: Data absent or known to be invalid.</p>
</dd>
</dl>
</li>
</ol>
</div></blockquote>
<p>VERSION      1.04 250692   A D HENNINGS</p>
<dl class="docutils">
<dt>ARGUMENTS       RCONST(1)  - REAL*4 IN  Upper Clear dome Signal &amp; Zero const.</dt>
<dd><blockquote class="first">
<div><ul class="simple">
<li>RCONST(2)  - REAL*4 IN  Upper Clear dome Signal &amp; Zero gain.
RCONST(3)  - REAL*4 IN  Upper Clear dome Thermistor: constant
RCONST(4)  - REAL*4 IN  Upper Clear dome Thermistor: coeff x.
RCONST(5)  - REAL*4 IN  Upper Red   dome Signal &amp; Zero const.</li>
<li>RCONST(6)  - REAL*4 IN  Upper Red   dome Signal &amp; Zero gain.
RCONST(7)  - REAL*4 IN  Upper Red   dome Thermistor: constant
RCONST(8)  - REAL*4 IN  Upper Red   dome Thermistor: coeff x.
RCONST(9)  - REAL*4 IN  Upper I/R   dome Signal &amp; Zero const.</li>
<li>RCONST(10) - REAL*4 IN  Upper I/R   dome Signal &amp; Zero gain.
RCONST(11) - REAL*4 IN  Upper I/R   dome Thermistor: constant
RCONST(12) - REAL*4 IN  Upper I/R   dome Thermistor: coeff x.
RCONST(13) - REAL*4 IN  Lower Clear dome Signal &amp; Zero const.</li>
<li>RCONST(14) - REAL*4 IN  Lower Clear dome Signal &amp; Zero gain.
RCONST(15) - REAL*4 IN  Lower Clear dome Thermistor: constant
RCONST(16) - REAL*4 IN  Lower Clear dome Thermistor: coeff x.
RCONST(17) - REAL*4 IN  Lower Red   dome Signal &amp; Zero const.</li>
<li>RCONST(18) - REAL*4 IN  Lower Red   dome Signal &amp; Zero gain.
RCONST(19) - REAL*4 IN  Lower Red   dome Thermistor: constant
RCONST(20) - REAL*4 IN  Lower Red   dome Thermistor: coeff x.
RCONST(21) - REAL*4 IN  Lower I/R   dome Signal &amp; Zero const.</li>
<li>RCONST(22) - REAL*4 IN  Lower I/R   dome Signal &amp; Zero gain.
RCONST(23) - REAL*4 IN  Lower I/R   dome Thermistor: constant
RCONST(24) - REAL*4 IN  Lower I/R   dome Thermistor: coeff x.</li>
</ul>
</div></blockquote>
<p>(*  also contains an offset evaluated to ICONF() ).</p>
<blockquote class="last">
<div><p>IFRQ(par)  _ INT*4  IN  Input frequency of each sample. 
IRAW(n,par)- INT*4  IN  Raw instrument voltage conversion.</p>
<blockquote>
<div>(samples n=1; par=81-89, 91-99)</div></blockquote>
<dl class="docutils">
<dt>RDER(op,opar)REAL*4 OUT Raw flux signal, zero-offset signal</dt>
<dd>and instrument temperature.
(samples op=1; opar=673-690)</dd>
</dl>
</div></blockquote>
</dd>
</dl>
<p>SUBPROGRAMS  ITSTFLG, ISETFLG</p>
<p>FILES        none</p>
<p>REFERENCES   Equations from MRF Instrument section.</p>
<dl class="docutils">
<dt>CHANGES      020490 Revised  range limits introduced.                 ADH</dt>
<dd><dl class="first docutils">
<dt>100191                                                   ADH</dt>
<dd><blockquote class="first">
<div><ol class="loweralpha simple">
<li>Range limits revised to allow for Pyranometer changes</li>
</ol>
</div></blockquote>
<dl class="docutils">
<dt>&#8221;     b) New arrays to hold raw input, constants etc for</dt>
<dd>more straightforward indexing.</dd>
</dl>
<p class="last">&#8221;     c) Include ICONF to aid reconfiguring instrument types.</p>
</dd>
<dt>010891 Range limits for ZERO now in terms of DRS units, revised</dt>
<dd>limits in Wm-2 for signal.</dd>
</dl>
<p>030292 Rates of change checks instituted on all BBR inputs.  ADH
120698 Bug fixed in quality control processing when using non-</p>
<blockquote>
<div>standard configurations. MDG/WDNJ</div></blockquote>
<dl class="docutils">
<dt>270600 I/R signal maximum increased to stop flagging good data</dt>
<dd>value arbitary, as no explanation of numbers found.
1050. &gt; 1500. DAT</dd>
</dl>
<p>V1.06  02/10/02  Changed to use 16 bit DRS data.
V1.07  27/11/02  Now takes X0 sensitivity constant as well as X1
V1.08  22/07/04  Bug so doesn&#8217;t crash if first data flagged 3
V1.09  13/08/04  Quality Control zero limits increased for</p>
<blockquote class="last">
<div>16 bit data</div></blockquote>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_temps2">
<span id="p-temps2-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_temps2</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_temps2" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_temps2.temps2">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_temps2.</tt><tt class="descname">temps2</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_temps2.temps2" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_TEMPS2</p>
<blockquote>
<div><p>ROUTINE          C_TEMPS2 SUBROUTINE FORTVAX</p>
<p>PURPOSE          Produces calibrated deiced and non-deiced temperatures</p>
<dl class="docutils">
<dt>DESCRIPTION      Calculates indicated and true air temperatures in K for the</dt>
<dd><blockquote class="first">
<div><p>Deiced and Non-Deiced temperature sensors as follows:</p>
<p>519 - Indicated Air Temperature  from Deiced     [K] at 32Hz
520 - True Air Temperature       from Deiced     [K] at 32Hz
524 - Indicated Air Temperature  from Non-deiced [K] at 32Hz
525 - True Air Temperature       from Non-deiced [K] at 32Hz</p>
<p>Note that this module only processes data recorded on the
146 which only uses one parameter per temperature.</p>
<p>The Deiced Temperature is recorded on the DRS at 32Hz as 
parameter 10 and the Non-deiced Temperature is recorded on 
the DRS as parameter 23.</p>
<p>Indicated Air Temperature is derived by application of 
the appropriate second order calibration coefficients to the
raw data.</p>
<p>A correction for heating from the deicing heater is made to
the deiced indicated air temperature if the heater is 
switched on, as indicated by bit 5 of the signal register
(parameter 27) being clear.  This heating correction is
obtained from graphs of Temperature vs Machno in Rosemount
Technical Reports 7597 &amp; 7637.  If Machno is less than
0.1 the data is flagged 1, because the Rosemount graph is 
invalid below 0.1, and if Machno below 0.05, a value of 0.05
is use to ensure a valid logarithm.  The algorithm used for
heating correction is:</p>
</div></blockquote>
<p>(exp(exp(1.171+(log(Machno)+2.738)*(-0.000568*(s+q)-0.452))))*0.1</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>where: s=static pressure       [mbs]</dt>
<dd>q=pitot static pressure [mbs]</dd>
</dl>
<p>True Air Temperature is derived as:</p>
<dl class="docutils">
<dt>TAT[K] = (Indicated Air Temperature[K]) /</dt>
<dd>(1.0 +(0.2 * MACHNO * MACHNO * TRECFTR))</dd>
<dt>where: MACHNO  is computed by scientific subroutine S_MACH.</dt>
<dd><blockquote class="first">
<div><dl class="docutils">
<dt>TRECFTR is the Temperature recovery factor - used to</dt>
<dd><p class="first">compensate for effects of kinetic heating.
This is supplied as a constant from the
flight constants file to this routine.</p>
<p class="last">It can be calculated from flight results of
slow/fast runs as:</p>
</dd>
</dl>
</div></blockquote>
<p>(Tindfast-Tindslow)/(Ffast*Tindslow-Fslow*Tindfast)</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>where: Tind = indicated temperature [K]</dt>
<dd>F    = 0.2 * Machno * Machno</dd>
</dl>
</div></blockquote>
</dd>
</dl>
<p>Flagging:</p>
<p>Both deiced and non-deiced temperature calculations follow
a similar scheme for error flagging, with worst case flags
being propagated through the calculations.  Sources of error
flags are:</p>
<blockquote>
<div>Absence of calibration constants    - flag 3
Absence of recovery factor constant - flag 3
Static pressure errors              - Parameter 576 flag
Pitot pressure errors               - Parameter 577 flag
Max/min/rate of change errors       - flag 2
Mach No less than 0.1               - flag 1</div></blockquote>
<p>Not all the above errors need affect all measurements.  For
instance pressure errors will not affect Indicated Air
Temperatures, unless the deicing heater is on.  Note that
this module cannot be called if any of the raw (not derived)
parameters are missing.  Also note that no raw data on which
this module can be used will be carrying flags (only raw
data transcribed on the Gould computer can carry flags).  If
any temperature has a flag of three, its value is set to
0.0 K (and flagged with a three).</p>
</div></blockquote>
</dd>
</dl>
<p>VERSION          1.00  10/09/92  W.D.N.JACKSON</p>
<dl class="docutils">
<dt>ARGUMENTS     </dt>
<dd><p class="first">Constants:
RCONST(1)   Recovery factor for Deiced sensor
RCONST(2)   Recovery factor for Non-deiced sensor
RCONST(3)   Deiced X0 calibration constant (deg C)
RCONST(4)   Deiced X1 calibration constant (deg C)
RCONST(5)   Deiced X2 calibration constant (deg C)
RCONST(6)   Non-deiced X0 calibration constant (deg C)
RCONST(7)   Non-deiced X1 calibration constant (deg C)
RCONST(8)   Non-deiced X2 calibration constant (deg C)</p>
<p>Inputs: 
DEICED TEMPERATURE            [bits 0-15]     Para  10 32Hz
NON DEICED TEMPERATURE        [bits 0-15]     Para  23 32Hz
SIGNAL REGISTER               [drs units-bcd] Para  27  2Hz
STATIC PRESSURE               [mbs]           Para 576 32Hz
PITOT STATIC PRESSURE         [mbs]           Para 577 32Hz</p>
<p class="last">Outputs: 
INDICATED AIR TEMPERATURE (Deiced)   [K]      Para 519 32Hz
TRUE AIR TEMPERATURE      (Deiced)   [K]      Para 520 32Hz
INDICATED AIR TEMPERATURE (NonDeiced)[K]      Para 524 32Hz
TRUE AIR TEMPERATURE      (NonDeiced)[K]      Para 525 32Hz</p>
</dd>
<dt>SUBPROGRAMS      S_MACH           Calculates Mach no</dt>
<dd>ITSTFLG          Examines bits 16,17 for flags
ISETFLG          Sets flag bits 16,17 = 0 &#8211;&gt; 3
S_QCPT           Performs range and rate of change check</dd>
<dt>REFERENCES       Code adapted from C_TEMPS module.  See MRF Internal Note 55 -</dt>
<dd>&#8216;Temperature Measurement Working Group Report&#8217; for full
details of C-130 temperature measurement.</dd>
<dt>CHANGES          V1.01  27/09/02  W.D.N.JACKSON</dt>
<dd>Changed to handle 16 bit temperature recording.
V1.02  23/05/05  D.A.TIDDEMAN
Temperature heater correction changed to opposite sense
Now raw para 27 bit 5 on = heater on</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_tpress">
<span id="p-tpress-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_tpress</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_tpress" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_tpress.tpress">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_tpress.</tt><tt class="descname">tpress</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_tpress.tpress" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_TPRESS</p>
<blockquote>
<div><p>ROUTINE          C_TPRESS SUBROUTINE FORTVAX</p>
<dl class="docutils">
<dt>PURPOSE          Calibrates the five turbulence probe pressure transducers</dt>
<dd>into mb.</dd>
<dt>DESCRIPTION      Apply calibration the combined transducer and DRS </dt>
<dd>coefficients to DRS parameters 215 to 219 to obtain derived
parameters 773 to 777.  Invalid data is flagged with 3, data
outside limits is flagged with 2.</dd>
<dt>METHOD           For each DRS parameter to be calibrated:</dt>
<dd><ol class="first arabic">
<li><p class="first">If data is FFFF or FFFE then flag 3</p>
</li>
<li><p class="first">Apply the calibration constants</p>
</li>
<li><p class="first">Check the results for being within acceptable values.</p>
</li>
<li><dl class="first docutils">
<dt>Set data flag bits (16+17) 0: Good data</dt>
<dd><p class="first last">1: Data of lower quality
2: Probably faulty, exceed lims
3: Data absent or invalid.</p>
</dd>
</dl>
</li>
</ol>
<p class="last">Flagging - If a value can&#8217;t be computed, due to missing data
missing constants, divide be zeroes, etc, a value of 0 is
used, flagged with a three.  If a value is outside its 
limits for range or rate of change, it is flagged with a two.
If there are no problems with the data it is flagged with 0.</p>
</dd>
</dl>
<p>VERSION          1.00  23/07/03  W.D.N.JACKSON</p>
<dl class="docutils">
<dt>ARGUMENTS        Inputs:</dt>
<dd><blockquote class="first">
<div><dl class="docutils">
<dt>DRS para 215 TBP1 32 Hz Turbulence probe centre port</dt>
<dd>para 216 TBP2 32 Hz Turbulence probe attack ports
para 217 TBP3 32 Hz Turbulence probe sideslip ports
para 218 TBP4 32 Hz Turbulence probe attack check
para 219 TBP5 32 Hz Turbulence probe sideslip check</dd>
</dl>
</div></blockquote>
<dl class="last docutils">
<dt>Constants:</dt>
<dd>RCONST(1 to 4) Para 215 cal constants X0 to X3
RCONST(5 to 8) Para 216 cal constants X0 to X3
RCONST(9 to 12) Para 217 cal constants X0 to X3
RCONST(13 to 14) Para 218 cal constants X0 to X1
RCONST(15 to 16) Para 219 cal constants X0 to X1</dd>
<dt>Outputs:</dt>
<dd><dl class="first last docutils">
<dt>Derived para 773 TBP0 mb 32 Hz Centre pressure</dt>
<dd>para 774 TBPA mb 32 Hz Attack pressure
para 775 TBPB mb 32 Hz Sideslip pressure
para 776 TBPC mb 32 Hz Attack check pressure
para 777 TBPD mb 32 Hz Sideslip check pressure</dd>
</dl>
</dd>
<dt>Flags:</dt>
<dd>Missing/corrupt data output as 0 flagged 3.
Out of range data flagged 2.</dd>
</dl>
</dd>
</dl>
<p>SUBPROGRAMS      ISETFLG</p>
<p>REFERENCES</p>
<dl class="docutils">
<dt>CHANGES          V1.00 23/07/03  WDNJ Original version</dt>
<dd>Note that V1.00 has no limit checking and no use is made of
the check pressures.
V1.01 25/03/04  WDNJ
Now takes third order calibration constants for the main
transducers, and first order for the check transducers.
V1.02 26/01/06 Phil Brown
Realistic min/max values provided for centre-port, Pa, Pb
for flagging purposes. Values alsoe provided for check
pressures Ca, Cb based on current (and probably wrong)
calibration coefficients.
V1.03 09/02/11 Axel Wellpott
From an email from Phil Brown: &#8220;The P0-S10 differential pressure
(para 773) is flagged 2 if it exceeds 130.0 hPa. This is easily 
exceeded when we do acceleration to max speed (min Angle of Attack)
so all the subsequent parameters calculated n C_TURB.for end up with a
flag-3 saetting. I reckon a better value would be 180.0 hPa.&#8221;</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_turb">
<span id="p-turb-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_turb</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_turb" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_turb.turb">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_turb.</tt><tt class="descname">turb</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_turb.turb" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<blockquote>
<div><p>ROUTINE      C_TURB</p>
<dl class="docutils">
<dt>PURPOSE      To calibrate and apply designated correction factors to</dt>
<dd>angle of attack (AOA), angle of sideslip (AOSS) and the
centre-static differential pressure (to derive TAS)).</dd>
</dl>
<p>DESCRIPTION  Calibration of AOA and AOSS is assumed to be of the form:</p>
<blockquote>
<div><p>PA/q = a0(M) + a1(M)*alpha
PB/q = b0(M) + b1(M)*beta
where q is the pitot(dynamic) pressure.
Calculations follow the scheme described in BAES doc
ADE-46S-R-463-34 1233 (Page 78 of 116).
Initial value of pitot pressure is taken from RVSM and
used to calculate first guess AOA and AOSS. These are
to derive corrections to the centre-port along with 
separate calculation of static position error in the
centre-port measurement. AOA and AOSS are recalculated
with iteration continuing until specified tolerance is
achieved or max.iteration count exceeded. Corrected
centre-port pressure is then used to calculate TAS
(currently only the dry value) using:</p>
<p>TAS = Corrtn.fac * 340.294*M*SQRT(T/288.15)</p>
</div></blockquote>
<p>VERSION      1.01   Phil Brown 24/5/2004</p>
<dl class="docutils">
<dt>CHANGES      1.02   Phil Brown 11/6/2004</dt>
<dd><blockquote class="first">
<div>Logic changed to reproduce PVWAVE test version
MRFB:[BROWN.PVWAVE]TURB.PRO at this date</div></blockquote>
<dl class="last docutils">
<dt>1.03   Phil Brown 28/6/2004</dt>
<dd>Check flags and values following return of calls
to S_MACH. Unacceptable causes C_TURB to return
its default values of output parameters (flag 3)</dd>
<dt>1.04   Phil Brown 2/7/04</dt>
<dd>Uses G_MACH routine to calculate Mach no. and
avoid complications due to flagging.</dd>
<dt>1.05   Phil Brown 08/07/04</dt>
<dd>Uses simpler Mach-dependent PE.Corrtn derived
empirically from B001-012 s&amp;l legs.</dd>
<dt>1.06   Phil Brown 09/07/04</dt>
<dd>No position error correction currently applied
to P0 differential pressure.</dd>
<dt>1.07   Phil Brown 26/08/04</dt>
<dd>Change sign of AOSS. Cals were done against INS
drift angle (-ve for +ve AOSS).</dd>
<dt>1.08   Phil Brown 27/8/04</dt>
<dd>AOSS calcs revert to original, but assumed to use
new fit coefficients for B0 and B1</dd>
<dt>1.09   26/01/06 Phil Brown</dt>
<dd>Min/max limits provided for AoA, AoSS and TAS for
flagging purposes.</dd>
<dt>1.10   20/06/06 Phil Brown</dt>
<dd>Takes additional input of non-deiced temp, used as
alternative when de-iced is flagged 2 or more.</dd>
<dt>1.11   24/10/06 Phil Brown</dt>
<dd>Fix bug setting flag on TTND to zero before use.
Define 4 additional flight constants to apply
fudge factors to the calculated AoA / AoSS
These have the form:
AoA_new = AoA * ALPH1 + ALPH0
AoSS_new= AoSS * BET1 + BET0</dd>
<dt>1.12   08/10/2010 Axel Wellpott</dt>
<dd>added line &#8220;DATA TAS/-9999./&#8221;
Missing TAS data values were set to -999.
and not to -9999. as specified in the netcdf
files.</dd>
</dl>
</dd>
</dl>
<p>SUBROUTINES: S10_PECORR, ITSTFLG, ISETFLG, G_MACH</p>
<p>FILES</p>
<p>REFERENCES</p>
<dl class="docutils">
<dt>CONSTANTS </dt>
<dd><dl class="first docutils">
<dt>RCONST(1-3) Coefficients of 2nd order polynomial in Mach to </dt>
<dd>calculate AOA offset, A0</dd>
<dt>RCONST(4-6) Coefficients of 2nd order polynomial in Mach to </dt>
<dd>calculate AOA sensitivity, A1</dd>
<dt>RCONST(7-9) Coefficients of 2nd order polynomial in Mach to </dt>
<dd>calculate AOSS offset, B0</dd>
<dt>RCONST(10-12) Coefficients of 2nd order polynomial in Mach to </dt>
<dd>calculate AOSS sensitivity, B1</dd>
</dl>
<p>RCONST(13)  Tolerance for AOA/AOSS iteration
RCONST(14)  True Airspeed correction factor (fudge factor to</p>
<blockquote>
<div>remove residual along-heading wind errors).</div></blockquote>
<p class="last">RCONST(15-16) Coefficients of linear correction to calculated AoA
RCONST(17-18) Coefficients of linear correction to calculated AoSS</p>
</dd>
<dt>INPUT PARAMETERS</dt>
<dd>516  IAS   32Hz
520  TTDI  32Hz
525  TTND  32Hz
576  SPR   32Hz
577  PSP   32Hz
578  PHGT  32Hz
773  TBP0  32Hz
774  TBPA  32Hz
775  TBPB  32Hz
776  TBPC  32Hz
777  TBPD  32Hz</dd>
</dl>
<p>OUTPUT PARAMETERS</p>
<blockquote>
<div>548  AOA   32Hz  deg
549  AOSS  32Hz  deg
779  TASD  32Hz  ms-1
780  TASW  32Hz  ms-1
781  TPSP  32Hz  mb</div></blockquote>
<p>TURBULENCE PROBE CONSTANT KEYWORDS</p>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_twc">
<span id="p-twc-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_twc</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_twc" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_twc.twc">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_twc.</tt><tt class="descname">twc</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_twc.twc" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.fort_cal" title="ppodd.core.fort_cal"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.fort_cal</span></tt></a></p>
<p>FORTRAN routine C_TWC</p>
<blockquote>
<div><p>ROUTINE            C_TWC   subroutine fortvax/fort77</p>
<p>PURPOSE            To calibrate DRS pars. 70-78 into TARDIS parameters 664-672</p>
<dl class="docutils">
<dt>DESCRIPTION       The same algorithm is used for all nine parameters. First</dt>
<dd><blockquote class="first">
<div><p>check to see if the right frequency has been set. Find
the flag of the raw data. Work out the derived parameter,
#665-#671, values of RCONST are used in a polynomial
fit. For #664(Detector) and #672(status word) the raw
data is converted from an integer to a real. Then the 
derived data is tested to see if it lies between the
accepted envelope of values for that parameter. The flag
is set to 2 if it lies outside the envelope. If any
other tests are failed the derived parameter is set to
-9999.0 with the flag at 3. At the end, with all the
parameters calculated,  a rate of change check is made. 
This looks at the values set in RATE_CHANGE.</p>
<p>Derived data limits and rate of change limits;</p>
<p>DRS  TARDIS   min    max   rate/change   units
par   par
70    664     0      4094       -         DRS</p>
</div></blockquote>
<p class="last">71    665     314    383      10.0         K
72    666     323    388       3.0         K
73    667     289    343       2.0         K
74    668     378    393       5.0         K
75    669     0.3    6.6       0.5         A
76    670     0.3    6.6       0.5         A
77    671     0.4E-3 1.1E-3    0.05E-3     A
78    672     0      4095       -         DRS</p>
</dd>
</dl>
<p>VERSION            1.00 080190 M.J.GLOVER</p>
<dl class="docutils">
<dt>ARGUMENTS         IRAW(64,512) I*4  IN   Raw data for the parameters</dt>
<dd>IFRQ(512)    I*4  IN   Frequencies of the data
RCONST(64)   R*4  IN   Constants required by routine,(1-32)
RDER(64,1024)R*4  OUT  Tardis parameters</dd>
</dl>
<p>COMMON     None.</p>
<p>SUBPROGRAMS        ISETFLG (linked automatically)</p>
<p>FILES              None.</p>
<p>REFERENCES         MRF2 Specification for Total Water Hygrometer 4 Dec 1989</p>
<dl class="docutils">
<dt>CHANGES           V1.01  10/06/94  W.D.N.JACKSON / S.J.MOSS</dt>
<dd>Modified to correctly compute evaporator currents when the
modified TWC instrument is flown (ie for A188 onwards).  In
this case DRS parameters 173 and 174 are also used.  If
the CALHTR1 and CALHTR2 keywords in the flight constants 
file have four values then processing for the modified 
probe is used; if they have two values then the old
processing is used.  Note that parameters 173 and 174 are
optional for this routine and CALIBRATE does not insist
that they are present.  Also note that when this routine is
used for flights before A188 CALIBRATE issues a warning
that some of the constants are absent; this can be ignored.</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>DEC$ IDENT &#8216;V1.01&#8217;</dt>
<dd><p class="first">Calibrate the hygrometer detector output - DRS parameter 70, sample
rate 64 Hz. To be left as bits.</p>
<blockquote>
<div><blockquote>
<div><dl class="docutils">
<dt>If the raw data is inside the bounds, process it.</dt>
<dd>IFLAG=ITSTFLG(IRAW(IS, 70))
If the flag of the raw data is less than three,
then convert the raw data into derived data.
If the flag is three or above, set the 
derived data to -9999.0.
If the raw data is outside the bounds, set it 
to -9999.0.</dd>
</dl>
<p>If the derived data is outside the bounds of 0 and 
4094, set the flag to three.</p>
<blockquote>
<div>If the derived data is within the bounds of 0
and 4094, then set the flag to that of the raw
data&#8217;s.</div></blockquote>
</div></blockquote>
<p>If the wrong frequency is there for the detector, then set all
the samples for this second to -9999.0, with their flags set 
to 3.</p>
</div></blockquote>
<p>Calibrate the nose temperature - DRS parameter 71, sample rate 1 Hz
This is to be put into Kelvin. A do loop is used, as the sample rate
may well change. This uses the elements of RCONST from 1 to 5.</p>
<blockquote>
<div><blockquote>
<div><p>See if all the const are there,if not set the flag to 3
ICHECK will be more than one if any of the constants 
are missing</p>
<blockquote>
<div>IFLAG=ITSTFLG(IRAW(IS, 71))</div></blockquote>
<p>If the flag of the raw data is less than three, then 
convert the raw data into derived data. This is done 
using a polynomial fit.</p>
<blockquote>
<div>If the flag is three or above, set the 
derived data to -9999.0.</div></blockquote>
<p>If the derived data is outside the bounds but not 
-9999.0, then set the flag to two.</p>
<blockquote>
<div>The derived data is within the limits then 
set the flag to that of the raw data. If the 
data is -9999.0 the flag will be three.</div></blockquote>
</div></blockquote>
<p>The data has not got the right frequency.</p>
</div></blockquote>
<p>Calibrate the sample temp -DRS parameter 72, sample rate 1 HZ. This is 
to be turned into Kelvin. This uses the elements of RCONST from 6 to 11</p>
<blockquote>
<div><blockquote>
<div><p>See if all the const are there,if not set the flag to 3
ICHECK will be more than one if any of the constants 
are missing.</p>
<blockquote>
<div>IFLAG=ITSTFLG(IRAW(IS, 72))</div></blockquote>
<p>If the flag of the raw data is less than three, then 
convert the raw data into derived data. This is done 
using a polynomial fit.</p>
<blockquote>
<div>If the flag is three or above, set the
derived data to -9999.0.</div></blockquote>
<p>If the derived data is outside the bounds but not 
-9999.0, then set the flag to two.</p>
<blockquote>
<div>The derived data is within the limits then 
set the flag to that of the raw data. If the 
data is -9999.0 the flag will be three.</div></blockquote>
</div></blockquote>
<p>The data has not got the right frequency.</p>
</div></blockquote>
<dl class="docutils">
<dt>to 16</dt>
<dd><blockquote class="first">
<div><p>See if all the const are there, if not set the flag to 3
ICHECK will be more than one if any of the constants 
are missing.</p>
<blockquote>
<div>IFLAG=ITSTFLG(IRAW(IS, 73))</div></blockquote>
<p>If the flag of the raw data is less than three, then 
convert the raw data into derived data. This is done 
using a polynomial fit.</p>
<blockquote>
<div>If the flag is three or above, set the 
derived data to -9999.0.</div></blockquote>
<p>If the derived data is outside the bounds but not 
-9999.0, then set the flag to two.</p>
<blockquote>
<div>The derived data is within the limits then 
set the flag to that of the raw data. If the 
data is -9999.0 the flag will be three.</div></blockquote>
</div></blockquote>
<p class="last">The data has not got the right frequency.</p>
</dd>
</dl>
<p>Calibrate the source temp - DRS parameter 74, sample rate 1 Hz. This 
will be in Kelvin.This uses the elements of RCONST from 17 to 22.</p>
<blockquote>
<div><blockquote>
<div><p>See if all the const are there, if not set the flag to 3
ICHECK will be more than one if any of the constants 
are missing.</p>
<blockquote>
<div>IFLAG=ITSTFLG(IRAW(IS, 74))</div></blockquote>
<p>If the flag of the raw data is less than three, then 
convert the raw data into derived data. This is done 
using a polynomial fit.</p>
<blockquote>
<div>If the flag is three or above, set the 
derived data to -9999.0.</div></blockquote>
<p>If the derived data is outside the bounds but not 
-9999.0, then set the flag to two.</p>
<blockquote>
<div>The derived data is within the limits then 
set the flag to that of the raw data. If the 
data is -9999.0 the flag will be three.</div></blockquote>
</div></blockquote>
<p>The data has not got the right frequency.</p>
</div></blockquote>
<p>Calibrate the evaporator current 1- DRS parameter 75, sample rate 1 Hz
If it is a modified probe, ie there are four constants in the flight
constants file for the CALHTR1 keyword, then parameter 173 is also used.
This will be in amps. This uses the elements of RCONST from 23 to 26.</p>
<blockquote>
<div><blockquote>
<div><p>See if all the const are there, if not set the flag to 3
ICHECK will be more than one if any of the constants 
are missing.</p>
<blockquote>
<div>IFLAG=ITSTFLG(IRAW(IS, 75))</div></blockquote>
<p>If the flag of the raw data is less than three, then 
convert the raw data into derived data. This is done 
using a polynomial fit.</p>
<blockquote>
<div>If the flag is three or above, set the 
derived data to -9999.0.</div></blockquote>
<p>If the derived data is outside the bounds but not 
-9999.0, then set the flag to two.</p>
<blockquote>
<div>The derived data is within the limits then 
set the flag to that of the raw data. If the 
data is -9999.0 the flag will be three.</div></blockquote>
</div></blockquote>
<p>The data has not got the right frequency.</p>
</div></blockquote>
<p>Calibrate the evaporator current 2- DRS parameter 76, sample rate 1Hz.
If it is a modified probe, ie there are four constants in the flight
constants file for the CALHTR2 keyword, then parameter 174 is also used.
This will be in amps. This uses the elements of RCONST from 27 to 30.</p>
<blockquote>
<div><blockquote>
<div><p>See if all the const are there, if not set the flag to 3
ICHECK will be more than one if any of the constants 
are missing.</p>
<blockquote>
<div>IFLAG=ITSTFLG(IRAW(IS, 76))</div></blockquote>
<p>If the flag of the raw data is less than three, then 
convert the raw data into derived data. This is done 
using a polynomial fit.</p>
<blockquote>
<div>If the flag is three or above, set the 
derived data to -9999.0.</div></blockquote>
<p>If the derived data is outside the bounds but not 
-9999.0, then set the flag to two.</p>
<blockquote>
<div>The derived data is within the limits then 
set the flag to that of the raw data. If the 
data is -9999.0 the flag will be three.</div></blockquote>
</div></blockquote>
<p>The data has not got the right frequency.</p>
</div></blockquote>
<p>Calibrate the source current - DRS parameter 77, sample rate 1 Hz. 
This will be in amps. This uses the elements of RCONST from 31 to 32.</p>
<blockquote>
<div><blockquote>
<div><p>See if all the const are there, if not set the flag to 3
ICHECK will be more than one if any of the constants 
are missing.</p>
<blockquote>
<div>IFLAG=ITSTFLG(IRAW(IS, 77))</div></blockquote>
<p>If the flag of the raw data is less than three, then 
convert the raw data into derived data. This is done 
using a polynomial fit.
If the flag is three or above, set the derived data 
to -9999.0. 
If the derived data is outside the bounds but not 
-9999.0, then set the flag to two.</p>
<blockquote>
<div>The derived data is within the limits then 
set the flag to that of the raw data. If the 
data is -9999.0 the flag will be three.</div></blockquote>
</div></blockquote>
<p>The data has not got the right frequency.</p>
</div></blockquote>
<p>Calibrate the status word - DRS parameter 78, sample rate 1 Hz. This 
will be in raw data.</p>
<blockquote>
<div><blockquote>
<div><dl class="docutils">
<dt>If the raw data is inside the bounds, process it.</dt>
<dd><p class="first">IFLAG=ITSTFLG(IRAW(IS, 78))
If the flag of the raw data is less than 
three, then convert the raw data into derived
data.</p>
<blockquote class="last">
<div>If the flag is three or above, set the
derived data to -9999.0.</div></blockquote>
</dd>
</dl>
<p>If the derived data is outside the bounds of 0 and 
4095, set the flag to two.</p>
<blockquote>
<div>If the derived data is within the bounds of 0
and 4095, then set the flag to that of the raw
data&#8217;s.</div></blockquote>
</div></blockquote>
<p>If the wrong frequency is there for the status, then set all
the samples for this second to -9999.0, with their flags set 
to 3.</p>
</div></blockquote>
<p>Check the rate of change for parametrs 665 to 671
If the time has been incremented by more than one, store the
parameters, and return.</p>
<blockquote>
<div><dl class="docutils">
<dt>Only bother with a parameter that is inside its bounds.</dt>
<dd>Check the differnce of the old and new value against
the stored value in the array RATE_CHANGE.</dd>
</dl>
</div></blockquote>
<p class="last">Store away the parameters
Store away the time.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_twc_cor">
<span id="p-twc-cor-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_twc_cor</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_twc_cor" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_twc_cor.twc_cor">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_twc_cor.</tt><tt class="descname">twc_cor</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_twc_cor.twc_cor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.cal_base" title="ppodd.core.cal_base"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.cal_base</span></tt></a></p>
<p>Fit TWC sensor to GE chilled mirror</p>
<p>Calculates Vapour pressures from GE where less than a threshold ( to screen out liquid and ice )
Calculate a theoretical Oxygen absorption from pressure
Fit the TWC detector less the oxygen correction against the GE vapour pressure</p>
<p>Use the fit to create a Mass Mixing ratio for the TWC and then a dewpoint.</p>
<dl class="method">
<dt id="ppodd.pod.p_twc_cor.twc_cor.process">
<tt class="descname">process</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.p_twc_cor.twc_cor.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.p_twc_wvsscor">
<span id="p-twc-wvsscor-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">p_twc_wvsscor</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.p_twc_wvsscor" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.p_twc_wvsscor.twc_wvsscor">
<em class="property">class </em><tt class="descclassname">ppodd.pod.p_twc_wvsscor.</tt><tt class="descname">twc_wvsscor</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.p_twc_wvsscor.twc_wvsscor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.cal_base" title="ppodd.core.cal_base"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.cal_base</span></tt></a></p>
<p>Fit TWC sensor to WVSSII</p>
<p>Calculates Vapour pressures from WVSSII where less than a threshold ( to screen out liquid and ice )
Calculate a theoretical Oxygen absorption from pressure
Fit the TWC detector less the oxygen correction against the WVSSII vapour pressure</p>
<dl class="method">
<dt id="ppodd.pod.p_twc_wvsscor.twc_wvsscor.process">
<tt class="descname">process</tt><big>(</big><big>)</big><a class="headerlink" href="#ppodd.pod.p_twc_wvsscor.twc_wvsscor.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ppodd.pod.write_nc">
<span id="write-nc-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">write_nc</span></tt> Module<a class="headerlink" href="#module-ppodd.pod.write_nc" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ppodd.pod.write_nc.write_nc">
<em class="property">class </em><tt class="descclassname">ppodd.pod.write_nc.</tt><tt class="descname">write_nc</tt><big>(</big><em>dataset</em><big>)</big><a class="headerlink" href="#ppodd.pod.write_nc.write_nc" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ppodd.html#ppodd.core.cal_base" title="ppodd.core.cal_base"><tt class="xref py py-class docutils literal"><span class="pre">ppodd.core.cal_base</span></tt></a></p>
<p>Write data out to a NetCDF 
It will try and write whatever is in input_names
beware it needs the DATE and FLIGHT parameters, and some timed data as a minimum</p>
<dl class="method">
<dt id="ppodd.pod.write_nc.write_nc.process">
<tt class="descname">process</tt><big>(</big><em>output=None</em>, <em>nctype=''</em>, <em>paras=None</em>, <em>onehz=False</em>, <em>fill_value=-9999</em>, <em>dtyp='f4'</em>, <em>flag_fill=-1</em><big>)</big><a class="headerlink" href="#ppodd.pod.write_nc.write_nc.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">pod Package</a><ul>
<li><a class="reference internal" href="#id1"><tt class="docutils literal"><span class="pre">pod</span></tt> Package</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_airspd"><tt class="docutils literal"><span class="pre">p_airspd</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_cnc"><tt class="docutils literal"><span class="pre">p_cnc</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_comr"><tt class="docutils literal"><span class="pre">p_comr</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_drs"><tt class="docutils literal"><span class="pre">p_drs</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_fwvs"><tt class="docutils literal"><span class="pre">p_fwvs</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_geneas"><tt class="docutils literal"><span class="pre">p_geneas</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_gin"><tt class="docutils literal"><span class="pre">p_gin</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_grflux"><tt class="docutils literal"><span class="pre">p_grflux</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_gsun"><tt class="docutils literal"><span class="pre">p_gsun</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_gwinds"><tt class="docutils literal"><span class="pre">p_gwinds</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_heiman"><tt class="docutils literal"><span class="pre">p_heiman</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_lwc"><tt class="docutils literal"><span class="pre">p_lwc</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_nephl1"><tt class="docutils literal"><span class="pre">p_nephl1</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_nevz"><tt class="docutils literal"><span class="pre">p_nevz</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_nox"><tt class="docutils literal"><span class="pre">p_nox</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_ozone1"><tt class="docutils literal"><span class="pre">p_ozone1</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_press1"><tt class="docutils literal"><span class="pre">p_press1</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_psap"><tt class="docutils literal"><span class="pre">p_psap</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_radal1"><tt class="docutils literal"><span class="pre">p_radal1</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_read_horace_gin"><tt class="docutils literal"><span class="pre">p_read_horace_gin</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_readconst"><tt class="docutils literal"><span class="pre">p_readconst</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_readcrio"><tt class="docutils literal"><span class="pre">p_readcrio</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_readfolder"><tt class="docutils literal"><span class="pre">p_readfolder</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_readm3"><tt class="docutils literal"><span class="pre">p_readm3</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_readnc"><tt class="docutils literal"><span class="pre">p_readnc</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_readwvssii"><tt class="docutils literal"><span class="pre">p_readwvssii</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_readzipped"><tt class="docutils literal"><span class="pre">p_readzipped</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_rio_airspd"><tt class="docutils literal"><span class="pre">p_rio_airspd</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_rio_geneas"><tt class="docutils literal"><span class="pre">p_rio_geneas</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_rio_heiman"><tt class="docutils literal"><span class="pre">p_rio_heiman</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_rio_lwc"><tt class="docutils literal"><span class="pre">p_rio_lwc</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_rio_neph"><tt class="docutils literal"><span class="pre">p_rio_neph</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_rio_press"><tt class="docutils literal"><span class="pre">p_rio_press</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_rio_psap"><tt class="docutils literal"><span class="pre">p_rio_psap</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_rio_radal"><tt class="docutils literal"><span class="pre">p_rio_radal</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_rio_rvsm"><tt class="docutils literal"><span class="pre">p_rio_rvsm</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_rio_sols"><tt class="docutils literal"><span class="pre">p_rio_sols</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_rio_sreg"><tt class="docutils literal"><span class="pre">p_rio_sreg</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_rio_sun"><tt class="docutils literal"><span class="pre">p_rio_sun</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_rio_temps"><tt class="docutils literal"><span class="pre">p_rio_temps</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_rio_tpress"><tt class="docutils literal"><span class="pre">p_rio_tpress</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_rvsm"><tt class="docutils literal"><span class="pre">p_rvsm</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_so2"><tt class="docutils literal"><span class="pre">p_so2</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_sols"><tt class="docutils literal"><span class="pre">p_sols</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_temps2"><tt class="docutils literal"><span class="pre">p_temps2</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_tpress"><tt class="docutils literal"><span class="pre">p_tpress</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_turb"><tt class="docutils literal"><span class="pre">p_turb</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_twc"><tt class="docutils literal"><span class="pre">p_twc</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_twc_cor"><tt class="docutils literal"><span class="pre">p_twc_cor</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.p_twc_wvsscor"><tt class="docutils literal"><span class="pre">p_twc_wvsscor</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-ppodd.pod.write_nc"><tt class="docutils literal"><span class="pre">write_nc</span></tt> Module</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="ppodd.gui.html"
                        title="previous chapter">gui Package</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/ppodd.pod.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ppodd.gui.html" title="gui Package"
             >previous</a> |</li>
        <li><a href="index.html">ppodd 0.1 documentation</a> &raquo;</li>
          <li><a href="ppodd.html" >ppodd Package</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Dave Tiddeman.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>